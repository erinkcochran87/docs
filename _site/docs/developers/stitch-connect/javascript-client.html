<!DOCTYPE html>
<head>
    <!-- Google Tag Manager  -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PXBN5GK');</script>
<!-- End Google Tag Manager -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta class="swiftype" name="description" data-type="string" content="">
<meta class="swiftype" name="keywords" data-type="string" content=",  ">
<title>Stitch Connect JavaScript Client | Stitch Documentation</title>

<meta property="og:title" content="Stitch Connect JavaScript Client | Stitch Documentation" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs" />
<meta property="og:image" content="https://www.stitchdata.com/images/og-site-icon-talend.png" />
<meta property="og:site_name" content="Stitch Docs" />

<meta name="twitter:creator" content="@stitch_data">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@stitch_data" />
<meta name="twitter:image" content="https://www.stitchdata.com/images/og-site-icon-talend.png" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- STYLESHEETS -->
<link rel="stylesheet" type="text/css" href="/docs/css/bootstrap.min.css">
<link rel="stylesheet" href="/docs/css/modern-business.css">
<link rel="stylesheet" href="/docs/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/docs/css/customstyles.css">
<link rel="stylesheet" href="/docs/css/theme-stitch.css">
<link rel="stylesheet" href="/docs/css/docsearch.min.css" />
<link rel="stylesheet" href="/docs/stylesheets/screen.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- FONT AWESOME -->
<script src="https://kit.fontawesome.com/e0e120b2f0.js"></script>

<!-- JQUERY -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/docs/js/jquery.navgoco.min.js"></script>

<!-- FAVICONS  -->
<link rel="/docs/images/apple-touch-icon" sizes="57x57" href="/docs/images/apple-icon-57x57.png">
<link rel="/docs/images/apple-touch-icon" sizes="60x60" href="/docs/images/apple-icon-60x60.png">
<link rel="/docs/images/apple-touch-icon" sizes="72x72" href="/docs/images/apple-icon-72x72.png">
<link rel="/docs/images/apple-touch-icon" sizes="76x76" href="/docs/images/apple-icon-76x76.png">
<link rel="/docs/images/apple-touch-icon" sizes="114x114" href="/docs/images/apple-icon-114x114.png">
<link rel="/docs/images/apple-touch-icon" sizes="120x120" href="/docs/images/apple-icon-120x120.png">
<link rel="/docs/images/apple-touch-icon" sizes="144x144" href="/docs/images/apple-icon-144x144.png">
<link rel="/docs/images/apple-touch-icon" sizes="152x152" href="/docs/images/apple-icon-152x152.png">
<link rel="/docs/images/apple-touch-icon" sizes="180x180" href="/docs/images/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/docs/images/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/docs/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/docs/images/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/docs/images/favicon-16x16.png">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="/docs/css/syntax.css">

<!-- FONTS -->
<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700&display=swap" rel="stylesheet">

<style type="text/css">
	.js .fouc {display: none !important;}
</style>

<script type="text/javascript">
	document.documentElement.className = 'js';
</script>

<!-- Begin Inspectlet Embed Code -->
<script type="text/javascript" id="inspectletjs">
window.__insp = window.__insp || [];
__insp.push(['wid', 479657659]);
(function() {
function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
})();
</script>
<!-- End Inspectlet Embed Code -->


  <!-- Initializes tooltips -->
    <script>
      $(function () {
            $('[data-toggle="tooltip"]').tooltip({
              delay: {show: 0, hide: 2000}
            });
        })
    </script>

</head>



<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PXBN5GK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Navigation -->

<nav class="stitch-docs-navbar" data-swiftype-index='false'>
    <div class="nav-left">
        <?xml version="1.0" encoding="utf-8"?>
        <!-- Generator: Adobe Illustrator 23.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
        <svg version="1.1" id="logomark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             viewBox="0 0 380 380" enable-background="new 0 0 380 380" xml:space="preserve">
        <path id="logomark_2_" fill="#FFFFFF" d="M120,177.1v-26.7h260V0H0v203.8h270.5v26.7H0V380h380V175.2H120V177.1z M193.3,39
            c10.5,0,19,8.6,19,19s-8.6,19-19,19s-19-8.6-19-19C174.3,46.7,183.8,39,193.3,39z M112.4,96.2H281l-7.6,26.7H119L112.4,96.2z
             M193.3,340c-10.5,0-19-8.6-19-19c0-10.5,8.6-19,19-19s19,8.6,19,19C212.4,331.4,202.9,340,193.3,340z M112.4,281.9l6.7-26.7h154.3
            l7.6,26.7H112.4z"/>
        </svg>
        <a class="navbar-brand" href="/docs/">
            <span class="projectTitle"> Stitch Docs</span>
        </a>
    </div>
    <div class="mobile-nav-icon"></div>
    <div id="close" class="mobile-close-out hide"></div>
    <div class="nav-right">
        <ul class="stitch-nav">
            <!-- entries without drop-downs appear here -->
            
                
                    
                        <li>
                            <a href="https://www.stitchdata.com" target="_blank">stitchdata.com</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://github.com/stitchdata/docs#stitch-documentation" target="_blank"><i class="fab fa-github" aria-hidden="true"></i> Contribute
</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://www.stitchdata.com/changelog" target="_blank">Changelog</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="/docs/announcements">Announcements</a>
                        </li>
                    
                
            
            <li class="sign-up"><a href="https://stitchdata.com/signup">Sign up</a></li>
            <li>
                <!--start search-->
                <div id="search-demo-container">
                    <input type="text" id="search-input" placeholder="What can we help you find?">
                    <div class="img"><i class="fa fa-search"></i></div>
                </div>
            </li>
        </ul>
    </div>


</nav>


<!-- Page Content -->
<div id="main">
    <div class="sidebar-column">
      <div class="sidebar-button"></div>
        
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



        
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->




    



<div class="menu-list" data-swiftype-index='false'>

<ul id="mysidebar" class="nav">
    <!-- Stitch status widget -->
    <a class="status-page" href="http://status.stitchdata.com" target="_blank">
        <span class="color-dot"></span>
        <span class="color-description"></span>
    </a>
        
            <!-- Top-level items -->

            
                <li>
                    
                       <a href="/docs/developers/stitch-connect">Stitch Connect</a>
                       
                    
            
                
                <!-- Category level -->
            
                <li>
                    
                       <a href="/docs/developers/stitch-connect/javascript-client#introduction">Introduction</a>
                       
                    
            
                
                <!-- Category level -->
            
                <li>
                    
                       <a href="/docs/developers/stitch-connect/javascript-client#versioning">Versioning</a>
                       
                    
            
                
                <!-- Category level -->
            
                <li>
                    
                       <a href="/docs/developers/stitch-connect/javascript-client#installation">Installation</a>
                       
                    
            
                
                <!-- Category level -->
            
                <li>
                    
                       <a href="/docs/developers/stitch-connect/javascript-client#error-codes">Error codes</a>
                       
                    
            
                
                <!-- Category level -->
            
                <li>
                    
                        <a data-toggle="collapse" href="#functions" 
                           aria-expanded="" aria-controls="functions">
                                Functions 
                        </a>
                    
            
                
                    
                            <ul class="collapse" id="functions">
                        

                    
                        
                    

                    
                        

                        
                            <li>
                                <a href="/docs/developers/stitch-connect/javascript-client#source-creation-function"
                                
                                    class="api">
                                    <span class="method function method-bullet">FUNCTION</span>
                                

                                addSource</a>

                            </li>
                        
                    
                        

                        
                            <li>
                                <a href="/docs/developers/stitch-connect/javascript-client#source-authorization-function"
                                
                                    class="api">
                                    <span class="method function method-bullet">FUNCTION</span>
                                

                                authorizeSource</a>

                            </li>
                        
                    
                        

                        
                            <li>
                                <a href="/docs/developers/stitch-connect/javascript-client#source-discovery-function"
                                
                                    class="api">
                                    <span class="method function method-bullet">FUNCTION</span>
                                

                                displayDiscovery</a>

                            </li>
                        
                    
                        

                        
                            <li>
                                <a href="/docs/developers/stitch-connect/javascript-client#source-stream-selection-function"
                                
                                    class="api">
                                    <span class="method function method-bullet">FUNCTION</span>
                                

                                selectStreamsForSource</a>

                            </li>
                        
                    
                        

                        
                            <li>
                                <a href="/docs/developers/stitch-connect/javascript-client#source-editing-function"
                                
                                    class="api">
                                    <span class="method function method-bullet">FUNCTION</span>
                                

                                editSource</a>

                            </li>
                        
                    
                    </ul>
                    <!-- Section level -->
                </li>
            
                <!-- Category level -->
            
                <li>
                    
                       <a href="/docs/developers/stitch-connect/api">API reference</a>
                       
                    
            
                
                <!-- Category level -->
            
        
    </ul> 
    <!-- Top-level - by status page -->
</div>
    
    </div>
    <div class="content-column">

        <div class="article">
          
            <div class="breadbox">
                <div class="breadcrumb-container" data-swiftype-index='false'>
                    <div id="breadcrumb-menu" class="menu-left">
                        <!-- Credit to JoostS for this code: https://stackoverflow.com/questions/9612235/what-are-some-good-ways-to-implement-breadcrumbs-on-a-jekyll-site -->




<a href="/docs">DOCS</a>

  
    > <a href="/docs/developers/">DEVELOPERS</a>
  

  
    > <a href="/docs/developers/stitch-connect/">STITCH CONNECT</a>
  

  
    > <strong>STITCH CONNECT JAVASCRIPT CLIENT</strong>
  


                    </div>

                    
                </div>
            </div>
          

          <div class="post-header">
    <h1 class="post-title-main">Stitch Connect JavaScript Client</h1>
</div>

<div class="post-content">
<!-- Controls display of page summary -->
   

<!-- Table of Contents -->
    

    

      





    


<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



    
        
            <h2 id="introduction">
        
            Introduction
        </h2>
    

    
        
            

            <p>The Stitch Connect JavaScript Client is a library for integrating Stitch’s data source creation and configuration workflows seamlessly into your web application. Using a pop-up window, end-users can:</p>

<ul>
  <li>Create a source of a particular type, such as Marketo or Salesforce</li>
  <li>Authorize an existing source</li>
  <li>Run a connection check for an existing source and discover its schema</li>
  <li>Select streams (tables) to replicate for an existing source</li>
  <li>Edit an existing source</li>
</ul>




            
        
            

            <h3 id="data-sources-connection-steps">
                
                
                Data sources and connection steps
            </h3>
            

            <p>Stitch data sources require a unique sequence of <a href="/docs/developers/stitch-connect/api#connection-step-object">connection steps</a> specific to the source <code class="language-plaintext highlighter-rouge">type</code> to be fully configured.</p>

<p>When a user is sent to a particular step using the JavaScript client, the user will also be prompted to complete any successive steps to complete configuration of the source.</p>

<p>For example: When the <code class="language-plaintext highlighter-rouge">addSource</code> function is used, the user will be prompted to first add the data source. The user will next be directed to authorize the source and select the streams they want to replicate.</p>




            
        
    

    

    
        <hr>
    

    
        
            <h2 id="versioning">
        
            Versioning
        </h2>
    

    
        
            

            <p>As of July 31, 2020, the current version of the JavaScript client is <strong>version 1.x.x</strong>.</p>

<p>Refer to the <a href="https://github.com/stitchdata/stitch-js/releases">Releases</a> page in the <a href="https://github.com/stitchdata/stitch-js">Stitch JS GitHub repo</a> to for updated release packages.</p>




            
        
    

    

    
        <hr>
    

    
        
            <h2 id="installation">
        
            Installation
        </h2>
    

    
        
            

            <p>Visit the <a href="https://github.com/stitchdata/stitch-js/releases">Stitch JS GitHub repo</a> and download the latest release.</p>

<p>In your application, add this <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> tag just before the closing <code class="language-plaintext highlighter-rouge">&lt;body&gt;</code> tag of the page(s) you want it to run on:</p>

<div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="&lt;script type=&quot;text/javascript&quot; src=&quot;&lt;FILE_PATH&gt;/stitch-client.umd.min.js&quot;&gt;&lt;/script&gt;" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"&lt;FILE_PATH&gt;/stitch-client.umd.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<p>Make sure to replace <code class="language-plaintext highlighter-rouge">&lt;FILE_PATH&gt;</code> with the directory location of the <code class="language-plaintext highlighter-rouge">stitch-client.umd.min.js</code> file.</p>




            
        
    

    

    
        <hr>
    

    
        
            <h2 id="error-codes">
        
            Error codes
        </h2>
    

    
        
            

            
<table width="100%; fixed" style="font-size: 15px;">
    <tr>
        <td align="right" width="30%; fixed">
            <strong>
                Code
            </strong>
        </td>
        <td width="35%; fixed">
            <strong>
                Response text
            </strong>
        </td>
        <td>
            <strong>
                Description
            </strong>
        </td>
    </tr>
    
        <tr>
            <td align="right">
                <strong>
                    AppClosedPrematurelyError
                </strong>
            </td>
            <td>
                <p><code class="language-plaintext highlighter-rouge">"App closed before reaching end of flow."</code></p>

            </td>
            <td>
                <p>The user closed the Stitch app before successfully completing the task.</p>

            </td>
        </tr>
    
        <tr>
            <td align="right">
                <strong>
                    SourceNotFoundError
                </strong>
            </td>
            <td>
                <p><code>"`Integration with id ${id} not found.`"</code></p>

            </td>
            <td>
                <p>The provided source ID is invalid.</p>

            </td>
        </tr>
    
        <tr>
            <td align="right">
                <strong>
                    UnknownSourceTypeError
                </strong>
            </td>
            <td>
                <p><code>"`Unknown source type: "${type}".`"</code></p>

            </td>
            <td>
                <p>The provided source <code class="language-plaintext highlighter-rouge">type</code> is invalid.</p>

            </td>
        </tr>
    
        <tr>
            <td align="right">
                <strong>
                    UpgradeEphemeralTokenError
                </strong>
            </td>
            <td>
                <p><code class="language-plaintext highlighter-rouge">"Error upgrading ephemeral token."</code></p>

            </td>
            <td>
                <p>There was an issue with updating the session’s ephemeral token.</p>

            </td>
        </tr>
    
</table>




            
        
    

    

    
        <hr>
    

    
        
            <h2 id="functions">
        
            Functions
        </h2>
    

    
        
            

            <p>The JavaScript client supports the functions listed below. All of the functions expect an <code class="language-plaintext highlighter-rouge">options</code> object as the only argument and return a <code class="language-plaintext highlighter-rouge">Promise</code>.</p>




            
        
    

    
        <!-- This is for displaying Javascript reference content. -->


    


<!-- This ensures that example tabs from _includes/connect/api-examples.html will display correctly  -->
    

    <div class="api-js-heading">
        <div class="method function">
            FUNCTION
        </div>

        <div class="method-resource">
            <h4 id="source-creation-function">
                addSource(options)
            </h4>
        </div>
    </div>

    <p><p>Initiates the creation of a source in the user’s Stitch client account.</p>
</p>

    

        <h5 id="source-creation-function--arguments">
            Arguments
        </h5>

        <p>
            The <code>addSource</code> function expects an <code>options</code> object as the only argument. This object must contain all parameters marked as <font color="#E96065">REQUIRED</font>:
        </p>

        <!-- This is used to display lists of attributes in table format for developer docs. 
	This functions similarly to the integrations/schemas/table-attributes.html include,
	in that it will recursively (see line 56) loop through the attributes that are 
	passed to it as an include parameter. -->

<table class="attribute-list table-hover" >
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>type</strong>
	        	<br>

	        	STRING
	        	
	        	

                <br>

                

		            
		            	
			                <font color="#E96065">REQUIRED</font>
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The source type. For example: <code class="language-plaintext highlighter-rouge">platform.hubspot</code> or <code class="language-plaintext highlighter-rouge">platform.marketo</code>.</p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>ephemeral_token</strong>
	        	<br>

	        	STRING
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The token used to automatically log the user into the Stitch client account. Retrieved by creating a session using the Connect API’s <a href="/docs/developers/stitch-connect/api#create-a-session">Create a Session endpoint</a>.</p>

<p>If the token is not provided, the user may be prompted to sign into their Stitch account.</p>

<p>The ephemeral token expires one hour after generation. When specified as an argument in a Connect JavaScript function, the ephemeral token is exchanged for a session token, creating a temporary Stitch session for the user. The session expires once terminated or 12 hours after its creation.</p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>default_streams</strong>
	        	<br>

	        	OBJECT
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>Sets the default selections for the data structures (tables) to be replicated during the source integration setup. Should be an object of the form <code class="language-plaintext highlighter-rouge">{"table_name": true}</code>. For example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"default_streams"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"campaigns"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"companies"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Additionally, note that:</p>

<ul>
  <li>Only top-levels may be provided</li>
  <li>If a table name is provided that the integration doesn’t support, it will be ignored</li>
  <li>Values other than <code class="language-plaintext highlighter-rouge">true</code> will be ignored</li>
</ul>


		    	
		    </td>
		</tr>
	
</table>
    

    <h4 id="source-creation-function-example-usage">
        Example usage
    </h4>

    
        

    


<!-- If there's more than one example, the page can get pretty long.
    This will get the size of the example array and then determine
    the correct formatting for displaying the examples. -->




<!-- If there's only 1 example, just display it directly on the page: -->


<ul id="examplesource-creation-functionTabs" class="nav nav-tabs">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

         
            <li class="active">
        
            <a href="#source-creation-function-function" data-toggle="tab">
            Function</a>
        </li>
        

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <li>
        
            <a href="#source-creation-function-result" data-toggle="tab">
            Result</a>
        </li>
        
</ul>
  <div class="tab-content" style="padding: 0px; background-color: #FFFFFF;">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane active" id="source-creation-function-function">
        

        

                
                    <p>The code below will create a HubSpot integration (<code class="language-plaintext highlighter-rouge">type: platform.hubspot</code>) in the user’s Stitch account, with the <code class="language-plaintext highlighter-rouge">campaigns</code> and <code class="language-plaintext highlighter-rouge">companies</code> tables pre-selected for replication.</p>


                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="Stitch.addSource({
    &quot;type&quot;: &quot;platform.hubspot&quot;,
    &quot;ephemeral_token&quot;: &quot;&lt;EPHEMERAL_TOKEN&gt;&quot;,
    &quot;default_streams&quot;:{
       &quot;campaigns&quot;: true,
       &quot;companies&quot;: true
    }
}).then((result) =&gt; {
    console.log(`Integration created, type=${result.type}, id=${result.id}`);
}).catch((error) =&gt; {
    console.log(&quot;Integration not created.&quot;, error);
});" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Stitch</span><span class="p">.</span><span class="nx">addSource</span><span class="p">({</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">platform.hubspot</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ephemeral_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;EPHEMERAL_TOKEN&gt;</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">default_streams</span><span class="dl">"</span><span class="p">:{</span>
       <span class="dl">"</span><span class="s2">campaigns</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">companies</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Integration created, type=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="s2">, id=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Integration not created.</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>





        

</div>


    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane" id="source-creation-function-result">
        

        

                
                    <p>Stitch.js will send the user to Stitch and open the Integration Settings page, where the user can configure the integration.</p>


                    
                        <center>
                            <img src="/docs/images/connect/js-create-a-source-result.png" alt="">
                        </center>
                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span></code></pre></div></div>





        

</div>

</div>




    <hr>



<!-- This ensures that example tabs from _includes/connect/api-examples.html will display correctly  -->
    

    <div class="api-js-heading">
        <div class="method function">
            FUNCTION
        </div>

        <div class="method-resource">
            <h4 id="source-authorization-function">
                authorizeSource(options)
            </h4>
        </div>
    </div>

    <p><p>Sends the user to Stitch, which will redirect to the third-party to complete an OAuth handshake.</p>
</p>

    

        <h5 id="source-authorization-function--arguments">
            Arguments
        </h5>

        <p>
            The <code>authorizeSource</code> function expects an <code>options</code> object as the only argument. This object must contain all parameters marked as <font color="#E96065">REQUIRED</font>:
        </p>

        <!-- This is used to display lists of attributes in table format for developer docs. 
	This functions similarly to the integrations/schemas/table-attributes.html include,
	in that it will recursively (see line 56) loop through the attributes that are 
	passed to it as an include parameter. -->

<table class="attribute-list table-hover" >
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>id</strong>
	        	<br>

	        	INTEGER
	        	
	        	

                <br>

                

		            
		            	
			                <font color="#E96065">REQUIRED</font>
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The unique identifier for the source. For example: <code class="language-plaintext highlighter-rouge">12345</code></p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>ephemeral_token</strong>
	        	<br>

	        	STRING
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The token used to automatically log the user into the Stitch client account. Retrieved by creating a session using the Connect API’s <a href="/docs/developers/stitch-connect/api#create-a-session">Create a Session endpoint</a>.</p>

<p>If the token is not provided, the user may be prompted to sign into their Stitch account.</p>

<p>The ephemeral token expires one hour after generation. When specified as an argument in a Connect JavaScript function, the ephemeral token is exchanged for a session token, creating a temporary Stitch session for the user. The session expires once terminated or 12 hours after its creation.</p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>default_streams</strong>
	        	<br>

	        	OBJECT
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>Sets the default selections for the data structures (tables) to be replicated during the source integration setup. Should be an object of the form <code class="language-plaintext highlighter-rouge">{"table_name": true}</code>. For example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"default_streams"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"campaigns"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"companies"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Additionally, note that:</p>

<ul>
  <li>Only top-levels may be provided</li>
  <li>If a table name is provided that the integration doesn’t support, it will be ignored</li>
  <li>Values other than <code class="language-plaintext highlighter-rouge">true</code> will be ignored</li>
</ul>


		    	
		    </td>
		</tr>
	
</table>
    

    <h4 id="source-authorization-function-example-usage">
        Example usage
    </h4>

    
        

    


<!-- If there's more than one example, the page can get pretty long.
    This will get the size of the example array and then determine
    the correct formatting for displaying the examples. -->




<!-- If there's only 1 example, just display it directly on the page: -->


<ul id="examplesource-authorization-functionTabs" class="nav nav-tabs">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

         
            <li class="active">
        
            <a href="#source-authorization-function-function" data-toggle="tab">
            Function</a>
        </li>
        

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <li>
        
            <a href="#source-authorization-function-result" data-toggle="tab">
            Result</a>
        </li>
        
</ul>
  <div class="tab-content" style="padding: 0px; background-color: #FFFFFF;">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane active" id="source-authorization-function-function">
        

        

                
                    <p>The code below will first send the user to Stitch and then re-direct to the appropriate third-party to complete an OAuth handshake.</p>


                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="Stitch.authorizeSource({
    &quot;id&quot;: 45612,
    &quot;ephemeral_token&quot;: &quot;&lt;EPHEMERAL_TOKEN&gt;&quot;
}).then((result) =&gt; {
    console.log(`Integration created, type=${result.type}, id=${result.id}`);
}).catch((error) =&gt; {
    console.log(&quot;Integration not created.&quot;, error);
});" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Stitch</span><span class="p">.</span><span class="nx">authorizeSource</span><span class="p">({</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">45612</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ephemeral_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;EPHEMERAL_TOKEN&gt;</span><span class="dl">"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Integration created, type=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="s2">, id=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Integration not created.</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>





        

</div>


    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane" id="source-authorization-function-result">
        

        

                
                    <p>Stitch.js will send the user to Stitch and then re-direct to the appropriate third-party to complete an OAuth handshake.</p>

<p>In this example, the source being authorized is HubSpot (<code class="language-plaintext highlighter-rouge">type: platform.hubspot</code>).</p>


                    
                        <center>
                            <img src="/docs/images/connect/js-authorize-source-function-result.png" alt="">
                        </center>
                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span></code></pre></div></div>





        

</div>

</div>




    <hr>



<!-- This ensures that example tabs from _includes/connect/api-examples.html will display correctly  -->
    

    <div class="api-js-heading">
        <div class="method function">
            FUNCTION
        </div>

        <div class="method-resource">
            <h4 id="source-discovery-function">
                displayDiscoveryOutputForSource(options)
            </h4>
        </div>
    </div>

    <p><p>Checks the source’s connection and discovers its schema.</p>
</p>

    

        <h5 id="source-discovery-function--arguments">
            Arguments
        </h5>

        <p>
            The <code>displayDiscoveryOutputForSource</code> function expects an <code>options</code> object as the only argument. This object must contain all parameters marked as <font color="#E96065">REQUIRED</font>:
        </p>

        <!-- This is used to display lists of attributes in table format for developer docs. 
	This functions similarly to the integrations/schemas/table-attributes.html include,
	in that it will recursively (see line 56) loop through the attributes that are 
	passed to it as an include parameter. -->

<table class="attribute-list table-hover" >
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>id</strong>
	        	<br>

	        	INTEGER
	        	
	        	

                <br>

                

		            
		            	
			                <font color="#E96065">REQUIRED</font>
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The unique identifier for the source. For example: <code class="language-plaintext highlighter-rouge">12345</code></p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>discovery_job_name</strong>
	        	<br>

	        	STRING
	        	
	        	

                <br>

                

		            
		            	
			                <font color="#E96065">REQUIRED</font>
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>When a source is updated, Stitch will run a <a href="/docs/developers/stitch-connect/api">connection check</a> to test the source’s connection parameters and discover its schema. This value is the name of the job that should be displayed.</p>

<p>To initiate a connection check, use the <a href="/docs/developers/stitch-connect/api#update-a-source">Update a Source</a> endpoint. The <code class="language-plaintext highlighter-rouge">check_job_name</code> attribute in the response will contain a discovery job name.</p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>ephemeral_token</strong>
	        	<br>

	        	STRING
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The token used to automatically log the user into the Stitch client account. Retrieved by creating a session using the Connect API’s <a href="/docs/developers/stitch-connect/api#create-a-session">Create a Session endpoint</a>.</p>

<p>If the token is not provided, the user may be prompted to sign into their Stitch account.</p>

<p>The ephemeral token expires one hour after generation. When specified as an argument in a Connect JavaScript function, the ephemeral token is exchanged for a session token, creating a temporary Stitch session for the user. The session expires once terminated or 12 hours after its creation.</p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>default_streams</strong>
	        	<br>

	        	OBJECT
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>Sets the default selections for the data structures (tables) to be replicated during the source integration setup. Should be an object of the form <code class="language-plaintext highlighter-rouge">{"table_name": true}</code>. For example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"default_streams"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"campaigns"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"companies"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Additionally, note that:</p>

<ul>
  <li>Only top-levels may be provided</li>
  <li>If a table name is provided that the integration doesn’t support, it will be ignored</li>
  <li>Values other than <code class="language-plaintext highlighter-rouge">true</code> will be ignored</li>
</ul>


		    	
		    </td>
		</tr>
	
</table>
    

    <h4 id="source-discovery-function-example-usage">
        Example usage
    </h4>

    
        

    


<!-- If there's more than one example, the page can get pretty long.
    This will get the size of the example array and then determine
    the correct formatting for displaying the examples. -->




<!-- If there's only 1 example, just display it directly on the page: -->


<ul id="examplesource-discovery-functionTabs" class="nav nav-tabs">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

         
            <li class="active">
        
            <a href="#source-discovery-function-function" data-toggle="tab">
            Function</a>
        </li>
        

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <li>
        
            <a href="#source-discovery-function-result" data-toggle="tab">
            Result</a>
        </li>
        
</ul>
  <div class="tab-content" style="padding: 0px; background-color: #FFFFFF;">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane active" id="source-discovery-function-function">
        

        

                
                    <p>The code below will run a connection check, discover the schema for source <code class="language-plaintext highlighter-rouge">45612</code>, and output the results.</p>


                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="Stitch.displayDiscoveryOutputForSource({
    &quot;id&quot;: 45612,
    &quot;discovery_job_name&quot;: &quot;1234-45612-4567891234-checks&quot;
}).then((result) =&gt; {
    console.log(`Integration created, type=${result.type}, id=${result.id}`);
}).catch((error) =&gt; {
    console.log(&quot;Integration not created.&quot;, error);
});" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Stitch</span><span class="p">.</span><span class="nx">displayDiscoveryOutputForSource</span><span class="p">({</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">45612</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">discovery_job_name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1234-45612-4567891234-checks</span><span class="dl">"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Integration created, type=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="s2">, id=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Integration not created.</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>





        

</div>


    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane" id="source-discovery-function-result">
        

        

                
                    <p>Stitch.js will run a connection check and output the source’s schema. The example below is for source <code class="language-plaintext highlighter-rouge">platform.hubspot</code>.</p>


                    
                        <center>
                            <img src="/docs/images/connect/js-source-discovery-function-result.gif" alt="">
                        </center>
                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span></code></pre></div></div>





        

</div>

</div>




    <hr>



<!-- This ensures that example tabs from _includes/connect/api-examples.html will display correctly  -->
    

    <div class="api-js-heading">
        <div class="method function">
            FUNCTION
        </div>

        <div class="method-resource">
            <h4 id="source-stream-selection-function">
                selectStreamsForSource(options)
            </h4>
        </div>
    </div>

    <p><p>Selects the tables and fields that should be replicated from the source.</p>
</p>

    

        <h5 id="source-stream-selection-function--arguments">
            Arguments
        </h5>

        <p>
            The <code>selectStreamsForSource</code> function expects an <code>options</code> object as the only argument. This object must contain all parameters marked as <font color="#E96065">REQUIRED</font>:
        </p>

        <!-- This is used to display lists of attributes in table format for developer docs. 
	This functions similarly to the integrations/schemas/table-attributes.html include,
	in that it will recursively (see line 56) loop through the attributes that are 
	passed to it as an include parameter. -->

<table class="attribute-list table-hover" >
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>id</strong>
	        	<br>

	        	INTEGER
	        	
	        	

                <br>

                

		            
		            	
			                <font color="#E96065">REQUIRED</font>
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The unique identifier for the source. For example: <code class="language-plaintext highlighter-rouge">12345</code></p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>ephemeral_token</strong>
	        	<br>

	        	STRING
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The token used to automatically log the user into the Stitch client account. Retrieved by creating a session using the Connect API’s <a href="/docs/developers/stitch-connect/api#create-a-session">Create a Session endpoint</a>.</p>

<p>If the token is not provided, the user may be prompted to sign into their Stitch account.</p>

<p>The ephemeral token expires one hour after generation. When specified as an argument in a Connect JavaScript function, the ephemeral token is exchanged for a session token, creating a temporary Stitch session for the user. The session expires once terminated or 12 hours after its creation.</p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>default_streams</strong>
	        	<br>

	        	OBJECT
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>Sets the default selections for the data structures (tables) to be replicated during the source integration setup. Should be an object of the form <code class="language-plaintext highlighter-rouge">{"table_name": true}</code>. For example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"default_streams"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"campaigns"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"companies"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Additionally, note that:</p>

<ul>
  <li>Only top-levels may be provided</li>
  <li>If a table name is provided that the integration doesn’t support, it will be ignored</li>
  <li>Values other than <code class="language-plaintext highlighter-rouge">true</code> will be ignored</li>
</ul>



		    	
		    </td>
		</tr>
	
</table>
    

    <h4 id="source-stream-selection-function-example-usage">
        Example usage
    </h4>

    
        

    


<!-- If there's more than one example, the page can get pretty long.
    This will get the size of the example array and then determine
    the correct formatting for displaying the examples. -->




<!-- If there's only 1 example, just display it directly on the page: -->


<ul id="examplesource-stream-selection-functionTabs" class="nav nav-tabs">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

         
            <li class="active">
        
            <a href="#source-stream-selection-function-function" data-toggle="tab">
            Function</a>
        </li>
        

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <li>
        
            <a href="#source-stream-selection-function-result" data-toggle="tab">
            Result</a>
        </li>
        
</ul>
  <div class="tab-content" style="padding: 0px; background-color: #FFFFFF;">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane active" id="source-stream-selection-function-function">
        

        

                
                    <p>The code below will prompt the user to select the streams (tables) they want to replicate for source <code class="language-plaintext highlighter-rouge">45612</code>.</p>


                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="Stitch.selectStreamsForSource({
    &quot;id&quot;: 45612,
    &quot;ephemeral_token&quot;: &quot;&lt;EPHEMERAL_TOKEN&gt;&quot;
}).then((result) =&gt; {
    console.log(`Integration created, type=${result.type}, id=${result.id}`);
}).catch((error) =&gt; {
    console.log(&quot;Integration not created.&quot;, error);
});" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Stitch</span><span class="p">.</span><span class="nx">selectStreamsForSource</span><span class="p">({</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">45612</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ephemeral_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;EPHEMERAL_TOKEN&gt;</span><span class="dl">"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Integration created, type=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="s2">, id=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Integration not created.</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>





        

</div>


    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane" id="source-stream-selection-function-result">
        

        

                
                    <p>Stitch.js will display the streams available for replication. The example below lists the streams for source <code class="language-plaintext highlighter-rouge">platform.hubspot</code>.</p>


                    
                        <center>
                            <img src="/docs/images/connect/js-source-stream-selection-function-result.png" alt="">
                        </center>
                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span></code></pre></div></div>





        

</div>

</div>




    <hr>



<!-- This ensures that example tabs from _includes/connect/api-examples.html will display correctly  -->
    

    <div class="api-js-heading">
        <div class="method function">
            FUNCTION
        </div>

        <div class="method-resource">
            <h4 id="source-editing-function">
                editSource(options)
            </h4>
        </div>
    </div>

    <p><p>Edits the source form and settings.</p>
</p>

    

        <h5 id="source-editing-function--arguments">
            Arguments
        </h5>

        <p>
            The <code>editSource</code> function expects an <code>options</code> object as the only argument. This object must contain all parameters marked as <font color="#E96065">REQUIRED</font>:
        </p>

        <!-- This is used to display lists of attributes in table format for developer docs. 
	This functions similarly to the integrations/schemas/table-attributes.html include,
	in that it will recursively (see line 56) loop through the attributes that are 
	passed to it as an include parameter. -->

<table class="attribute-list table-hover" >
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>id</strong>
	        	<br>

	        	INTEGER
	        	
	        	

                <br>

                

		            
		            	
			                <font color="#E96065">REQUIRED</font>
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The unique identifier for the source. For example: <code class="language-plaintext highlighter-rouge">12345</code></p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>ephemeral_token</strong>
	        	<br>

	        	STRING
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>The token used to automatically log the user into the Stitch client account. Retrieved by creating a session using the Connect API’s <a href="/docs/developers/stitch-connect/api#create-a-session">Create a Session endpoint</a>.</p>

<p>If the token is not provided, the user may be prompted to sign into their Stitch account.</p>

<p>The ephemeral token expires one hour after generation. When specified as an argument in a Connect JavaScript function, the ephemeral token is exchanged for a session token, creating a temporary Stitch session for the user. The session expires once terminated or 12 hours after its creation.</p>


		    	
		    </td>
		</tr>
	
	    <tr>
		    <td width="25%; fixed" align="right">
		        <strong>default_streams</strong>
	        	<br>

	        	OBJECT
	        	
	        	

                <br>

                

		            
		            	
			                OPTIONAL
			            
		            
		        
		      
		    </td>
		    <td class="description">
		    	

		    	<p>Sets the default selections for the data structures (tables) to be replicated during the source integration setup. Should be an object of the form <code class="language-plaintext highlighter-rouge">{"table_name": true}</code>. For example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"default_streams"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"campaigns"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"companies"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Additionally, note that:</p>

<ul>
  <li>Only top-levels may be provided</li>
  <li>If a table name is provided that the integration doesn’t support, it will be ignored</li>
  <li>Values other than <code class="language-plaintext highlighter-rouge">true</code> will be ignored</li>
</ul>


		    	
		    </td>
		</tr>
	
</table>
    

    <h4 id="source-editing-function-example-usage">
        Example usage
    </h4>

    
        

    


<!-- If there's more than one example, the page can get pretty long.
    This will get the size of the example array and then determine
    the correct formatting for displaying the examples. -->




<!-- If there's only 1 example, just display it directly on the page: -->


<ul id="examplesource-editing-functionTabs" class="nav nav-tabs">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

         
            <li class="active">
        
            <a href="#source-editing-function-function" data-toggle="tab">
            Function</a>
        </li>
        

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <li>
        
            <a href="#source-editing-function-result" data-toggle="tab">
            Result</a>
        </li>
        
</ul>
  <div class="tab-content" style="padding: 0px; background-color: #FFFFFF;">
    

    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane active" id="source-editing-function-function">
        

        

                
                    <p>The code below will send the user to Stitch and open the Integration Settings page for source <code class="language-plaintext highlighter-rouge">45612</code>, where the source’s settings can be updated.</p>


                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="Stitch.editSource({
    &quot;id&quot;: 45612,
    &quot;ephemeral_token&quot;: &quot;&lt;EPHEMERAL_TOKEN&gt;&quot;
}).then((result) =&gt; {
    console.log(`Source updated, type=${result.type}, id=${result.id}`);
}).catch((error) =&gt; {
    console.log(&quot;Editing source failed.&quot;, error);
});" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Stitch</span><span class="p">.</span><span class="nx">editSource</span><span class="p">({</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">45612</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ephemeral_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;EPHEMERAL_TOKEN&gt;</span><span class="dl">"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Source updated, type=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="s2">, id=</span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Editing source failed.</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>





        

</div>


    <!-- This value comes from _includes/connect/api-endpoint.html -->
        

        
            <div role="tabpanel" class="tab-pane" id="source-editing-function-result">
        

        

                
                    <p>Stitch.js will display the Integration Settings page for the source, where the user can update the source’s configuration settings.</p>


                    
                        <center>
                            <img src="/docs/images/connect/js-edit-source-function-result.png" alt="">
                        </center>
                    
                


<!-- If there are subexamples, list them out: -->


<!-- This is still inside the tab; it just has to be
    flush left or Jekyll will throw a fit -->


    <div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="" title="Copy to clipboard" tabindex="0"></div></div></div>






<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span></code></pre></div></div>





        

</div>

</div>






    

    


<!-- GitHub Feedback snippet -->

</div>

<hr class="footer-cta">
<div class="footer-signup-cta" data-swiftype-index='false'>
    <div class="wrapper">
        <div>
            <p>Try Stitch for free</p>
        </div>
        <div>
            <a href="https://www.stitchdata.com/signup" class="btn-default btn-default--yellow">
                Start your trial <span class="arrow"></span>
            </a>
        </div>
    </div>
</div>
<footer data-swiftype-index='false'>
    <div class="site-generation">
        &copy;2020 Stitch. All rights reserved. 
         Site last generated: Jul 31, 2020
    </div>
    
</footer>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/docs/js/docsearch.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<!-- Used for creating heading anchors -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="//cdn.statuspage.io/se-v2.js"></script>

<script src="/docs/js/toc.js"></script>
<script src="/docs/js/customscripts.js"></script>
<script src="/docs/js/copyCode.js"></script>

<script type="text/javascript">
    $(".fouc").removeClass("fouc");
</script>

<!-- Intercom bubble -->
<script>
  window.intercomSettings = {
    app_id: "okjpf68w"
  };
</script>
<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/okjpf68w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>

<!-- Search -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','SAg6gNWby6H1xYzjhfzB','2.0.0');
</script>

<div class="st-search-container"></div>

</body>
</html>

<!DOCTYPE html>
<head>
    <!-- Google Tag Manager  -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PXBN5GK');</script>
<!-- End Google Tag Manager -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta class="swiftype" name="description" data-type="string" content="Using the Stitch Connect API, create a new Import API source and generate an access token. You'll also learn how to push data to the Import API after the sou...">
<meta class="swiftype" name="keywords" data-type="string" content=",  ">
<title>Create and Configure an Import API Source with the Connect API | Stitch Documentation</title>

<meta property="og:title" content="Create and Configure an Import API Source with the Connect API | Stitch Documentation" />
<meta property="og:description" content="Using the Stitch Connect API, create a new Import API source and generate an access token. You'll also learn how to push data to the Import API after the sou..." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs" />
<meta property="og:image" content="https://www.stitchdata.com/images/og-site-icon-talend.png" />
<meta property="og:site_name" content="Stitch Docs" />

<meta name="twitter:creator" content="@stitch_data">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@stitch_data" />
<meta name="twitter:image" content="https://www.stitchdata.com/images/og-site-icon-talend.png" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- STYLESHEETS -->
<link rel="stylesheet" type="text/css" href="/docs/css/bootstrap.min.css">
<link rel="stylesheet" href="/docs/css/modern-business.css">
<link rel="stylesheet" href="/docs/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/docs/css/customstyles.css">
<link rel="stylesheet" href="/docs/css/theme-stitch.css">
<link rel="stylesheet" href="/docs/css/docsearch.min.css" />
<link rel="stylesheet" href="/docs/stylesheets/screen.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- FONT AWESOME -->
<script src="https://kit.fontawesome.com/e0e120b2f0.js"></script>

<!-- JQUERY -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/docs/js/jquery.navgoco.min.js"></script>

<!-- FAVICONS  -->
<link rel="/docs/images/apple-touch-icon" sizes="57x57" href="/docs/images/apple-icon-57x57.png">
<link rel="/docs/images/apple-touch-icon" sizes="60x60" href="/docs/images/apple-icon-60x60.png">
<link rel="/docs/images/apple-touch-icon" sizes="72x72" href="/docs/images/apple-icon-72x72.png">
<link rel="/docs/images/apple-touch-icon" sizes="76x76" href="/docs/images/apple-icon-76x76.png">
<link rel="/docs/images/apple-touch-icon" sizes="114x114" href="/docs/images/apple-icon-114x114.png">
<link rel="/docs/images/apple-touch-icon" sizes="120x120" href="/docs/images/apple-icon-120x120.png">
<link rel="/docs/images/apple-touch-icon" sizes="144x144" href="/docs/images/apple-icon-144x144.png">
<link rel="/docs/images/apple-touch-icon" sizes="152x152" href="/docs/images/apple-icon-152x152.png">
<link rel="/docs/images/apple-touch-icon" sizes="180x180" href="/docs/images/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/docs/images/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/docs/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/docs/images/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/docs/images/favicon-16x16.png">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="/docs/css/syntax.css">

<!-- FONTS -->
<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700&display=swap" rel="stylesheet">

<style type="text/css">
	.js .fouc {display: none !important;}
</style>

<script type="text/javascript">
	document.documentElement.className = 'js';
</script>

<!-- Begin Inspectlet Embed Code -->
<script type="text/javascript" id="inspectletjs">
window.__insp = window.__insp || [];
__insp.push(['wid', 479657659]);
(function() {
function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
})();
</script>
<!-- End Inspectlet Embed Code -->


  <!-- Initializes tooltips -->
    <script>
      $(function () {
            $('[data-toggle="tooltip"]').tooltip({
              delay: {show: 0, hide: 2000}
            });
        })
    </script>

</head>



<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PXBN5GK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Navigation -->

<nav class="stitch-docs-navbar" data-swiftype-index='false'>
    <div class="nav-left">
        <?xml version="1.0" encoding="utf-8"?>
        <!-- Generator: Adobe Illustrator 23.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
        <svg version="1.1" id="logomark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             viewBox="0 0 380 380" enable-background="new 0 0 380 380" xml:space="preserve">
        <path id="logomark_2_" fill="#FFFFFF" d="M120,177.1v-26.7h260V0H0v203.8h270.5v26.7H0V380h380V175.2H120V177.1z M193.3,39
            c10.5,0,19,8.6,19,19s-8.6,19-19,19s-19-8.6-19-19C174.3,46.7,183.8,39,193.3,39z M112.4,96.2H281l-7.6,26.7H119L112.4,96.2z
             M193.3,340c-10.5,0-19-8.6-19-19c0-10.5,8.6-19,19-19s19,8.6,19,19C212.4,331.4,202.9,340,193.3,340z M112.4,281.9l6.7-26.7h154.3
            l7.6,26.7H112.4z"/>
        </svg>
        <a class="navbar-brand" href="/docs/">
            <span class="projectTitle"> Stitch Docs</span>
        </a>
    </div>
    <div class="mobile-nav-icon"></div>
    <div id="close" class="mobile-close-out hide"></div>
    <div class="nav-right">
        <ul class="stitch-nav">
            <!-- entries without drop-downs appear here -->
            
                
                    
                        <li>
                            <a href="https://www.stitchdata.com" target="_blank">stitchdata.com</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://github.com/stitchdata/docs#stitch-documentation" target="_blank"><i class="fab fa-github" aria-hidden="true"></i> Contribute
</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://www.stitchdata.com/changelog" target="_blank">Changelog</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="/docs/announcements">Announcements</a>
                        </li>
                    
                
            
            <li class="sign-up"><a href="https://stitchdata.com/signup">Sign up</a></li>
            <li>
                <!--start search-->
                <div id="search-demo-container">
                    <input type="text" id="search-input" placeholder="What can we help you find?">
                    <div class="img"><i class="fa fa-search"></i></div>
                </div>
            </li>
        </ul>
    </div>


</nav>


<!-- Page Content -->
<div id="main">
    <div class="sidebar-column">
      <div class="sidebar-button"></div>
        
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



    <!-- This is temporary until the tutorial and on-page navigation is improved. -->
        
            
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->


<div class="menu-list">

<ul id="mysidebar" class="nav" data-swiftype-index='false'>
    <!-- Stitch status widget -->
    <a class="status-page" href="http://status.stitchdata.com" target="_blank">
        <span class="color-dot"></span>
        <span class="color-description"></span>
    </a>

    <li>
    	<strong>In this guide:</strong>
    </li>

    
        
    	    <li>
    			<a href="#">
    		    	Introduction
    		    </a>
    		</li>
        
	


    
        <li>
            <a href="#prerequisites">
                Prerequisites
            </a>
        </li>
    

    
        

		
            	<li>
            		<a href="#get-iapi-report-card">
                        
		                   1: 
                        
                           Get the Import API's report card
		            </a>
		        </li>
    		
    	</li>
    
        

		
            	<li>
            		<a href="#create-source-complete-form-step">
                        
		                   2: 
                        
                           Create the source and complete the form step
		            </a>
		        </li>
    		
    	</li>
    
        

		
            	<li>
            		<a href="#generate-an-import-api-access-token">
                        
		                   3: 
                        
                           Generate an Import API access token
		            </a>
		        </li>
    		
    	</li>
    
        

		
            <li class="subfolders">
                <a data-toggle="collapse" href="#push-data-import-api--menu" aria-expanded="false" aria-controls="push-data-import-api--menu">
                    
                        4: 
                    
                    Push data to the Import API 
                    <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                </a>

                <ul class="collapse" id="push-data-import-api--menu">
            		<li>
                        <a href="#push-data-import-api">4: Push data to the Import API</a>
                    </li>

               		
                        

                		<li>
                            <a href="#build-import-api-request-header">
                                
                                    4.1: 
                                
                                Build the request header
                            </a>
                        </li>
                	
                        

                		<li>
                            <a href="#submit-request-to-import-api">
                                
                                    4.2: 
                                
                                Submit the request
                            </a>
                        </li>
                	
                </ul>
            
    	</li>
    
        

		
            	<li>
            		<a href="#verify-data-destination">
                        
		                   5: 
                        
                           Verify the data in the destination
		            </a>
		        </li>
    		
    	</li>
    

    
        <li>
            <a href="#next-steps">
                 Next steps
            </a>
        </li>
    

    
	    <hr>

	    <li>
	    	<strong>Related:</strong>
	    </li>

	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/guides/manage-import-api-access-tokens">
		            	Manage Import API access tokens in Connect
		            </a>
		        </li>
	    	
	    		<li>
            		<a href="/docs/developers/import-api/guides/structure-data-for-the-import-api">
		            	Structuring data for the Import API
		            </a>
		        </li>
	    	
	    		<li>
            		<a href="/docs/developers/import-api/api">
		            	Import API reference
		            </a>
		        </li>
	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/api">
		            	Connect API reference
		            </a>
		        </li>
	    	
	
</ul>

</div>
        
    
    </div>
    <div class="content-column">

        <div class="article">
          
            <div class="breadbox">
                <div class="breadcrumb-container" data-swiftype-index='false'>
                    <div id="breadcrumb-menu" class="menu-left">
                        <!-- Credit to JoostS for this code: https://stackoverflow.com/questions/9612235/what-are-some-good-ways-to-implement-breadcrumbs-on-a-jekyll-site -->




<a href="/docs">DOCS</a>

  
    > <a href="/docs/developers/">DEVELOPERS</a>
  

  
    > <a href="/docs/developers/stitch-connect/">STITCH CONNECT</a>
  

  
    > <a href="/docs/developers/stitch-connect/guides/">GUIDES</a>
  

  
    > <strong>CREATE AND CONFIGURE AN IMPORT API SOURCE WITH THE CONNECT API</strong>
  


                    </div>

                    
                </div>
            </div>
          

          <div class="post-header">
    <h1 class="post-title-main">Create and Configure an Import API Source with the Connect API</h1>
</div>

<div class="post-content">
<!-- Controls display of page summary -->
   

<!-- Table of Contents -->
    

    

      
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



<!-- This only runs for destination and integration pages.
    The include assigns a different page variable, and displays the correct
    beta notice when applicable. -->
    
        <!-- This file is used to assign the correct
	page variable for destination and integration content.

	It'll also display the appropriate beta notice for
	destinations/integrations that require it. -->

    
    


<!-- TUTORIAL INTRODUCTION -->
    
        
        	
<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Tooltips and terms -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<div class="alert alert-info" role="alert">
    <i class="fas fa-info-circle"></i>
    <strong>Note</strong>: This guide focuses on creating an Import API source using Stitch Connect. Refer to the <a href="/docs/developers/import-api/guides/manage-import-api-access-tokens">Managing Import API access tokens in Stitch guide</a> for instructions on generating API access tokens in the Stitch web app.
</div>

<p>Using the Stitch Connect API, create a new Import API source and generate an access token. You’ll also learn how to push data to the Import API after the source has been configured.</p>


            <hr>
        
    


<!-- TUTORIAL REQUIREMENTS -->
    
        <h2 id="prerequisites">Prerequisites</h2>
        
        <ul>
            
                <li><p><strong>Access to Stitch Connect and valid Connect API credentials.</strong> Connect access is a Stitch Enterprise feature. Refer to the <a href="/docs/developers/stitch-connect/api#authentication">Connect API reference</a> for more info on obtaining API credentials.</p>
</li>
            
        </ul>

        

        <hr>
    


<!-- TUTORIAL STEPS -->
    
        

        
            <h2 id="get-iapi-report-card">Step 1: Get the Import API's report card</h2>
        

            
<p>When preparing for source creation, the first step is to get the report card for the source you want to create. The report card contains information about the steps required to fully configure a source.</p>

<p>Use <a href="/docs/developers/stitch-connect/api#get-a-source-type">GET /v4/source-types/{source_type}</a> to get the report card for source <code class="language-plaintext highlighter-rouge">type: import_api</code>:</p>

<div class="code-header"><div class="code-description-container"><strong>GET /v4/source-types/{source_type}</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl &quot;https://api.stitchdata.com/v4/source-types/import_api&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl "https://api.stitchdata.com/v4/source-types/import_api" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>

<p>The response will be a <a href="/docs/developers/stitch-connect/api#source--object">Source object</a> with a <a href="/docs/developers/stitch-connect/api#connection-step-object">Connection step object</a>:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for GET /v4/source-types/{source_type}</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;type&quot;: &quot;import_api&quot;,
  &quot;current_step&quot;: 1,
  &quot;current_step_type&quot;: &quot;form&quot;,
  &quot;steps&quot;: [
    {
      &quot;type&quot;: &quot;form&quot;,
      &quot;properties&quot;: []
    },
    {
      &quot;type&quot;: &quot;fully_configured&quot;,
      &quot;properties&quot;: []
    }
  ],
  &quot;details&quot;: {
    &quot;pricing_tier&quot;: &quot;standard&quot;,
    &quot;pipeline_state&quot;: &quot;released&quot;,
    &quot;default_start_date&quot;: &quot;-1 year&quot;,
    &quot;default_scheduling_interval&quot;: 60,
    &quot;protocol&quot;: &quot;import_api&quot;,
    &quot;access&quot;: true
  }
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"import_api"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"current_step"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"current_step_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"steps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fully_configured"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pricing_tier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pipeline_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"released"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"default_start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1 year"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"default_scheduling_interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"import_api"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"access"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>For Import API sources, the only step to being <code class="language-plaintext highlighter-rouge">fully_configured</code> is to complete the <code class="language-plaintext highlighter-rouge">form</code> step.</p>


    <!-- If a step has substeps -->
        

        
            <hr>
        
    
        

        
            <h2 id="create-source-complete-form-step">Step 2: Create the source and complete the form step</h2>
        

            <p>Use <a href="/docs/developers/stitch-connect/api#create-a-source">POST /v4/sources</a> to create the Import API source. The request body must include the following top-level properties:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">type</code>: This must be <code class="language-plaintext highlighter-rouge">import_api</code>.</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">display_name</code>: A descriptive name for the source. This will be used to dynamically generate the name corresponding to the schema name or dataset name that the data from this source will be loaded into.</p>

    <p>For example:  A display name of <code class="language-plaintext highlighter-rouge">Import API</code> will create a destination schema named <code class="language-plaintext highlighter-rouge">import_api</code>.</p>
  </li>
</ul>

<p>This request will complete the <code class="language-plaintext highlighter-rouge">form</code> step outlined in the source’s report card, which you retrieved in <a href="#get-iapi-report-card">Step 1</a>:</p>

<div class="code-header"><div class="code-description-container"><strong>POST /v4/sources</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;POST&quot; &quot;https://api.stitchdata.com/v4/sources&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39; \
     -d $
&#39;{
  &quot;type&quot;: &quot;import_api&quot;,
  &quot;display_name&quot;: &quot;Import API&quot;
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "POST" "https://api.stitchdata.com/v4/sources" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json' \
     -d $
'{
  "type": "import_api",
  "display_name": "Import API"
}
</code></pre>

<p>The response will be a <a href="/docs/developers/stitch-connect/api#source--object">Source object</a> containing the ID, <a href="/docs/developers/stitch-connect/api#report-card-object--source">report card</a>, and current configuration status of the Import API source, which will be <code class="language-plaintext highlighter-rouge">fully_configured</code>:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for POST /v4/sources</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;properties&quot;: {},
  &quot;updated_at&quot;: &quot;2020-01-02T15:49:27Z&quot;,
  &quot;schedule&quot;: null,
  &quot;name&quot;: &quot;import_api&quot;,
  &quot;type&quot;: &quot;import_api&quot;,
  &quot;deleted_at&quot;: null,
  &quot;system_paused_at&quot;: null,
  &quot;stitch_client_id&quot;: 116078,
  &quot;paused_at&quot;: null,
  &quot;id&quot;: 126890,
  &quot;display_name&quot;: &quot;Import API&quot;,
  &quot;created_at&quot;: &quot;2020-01-02T15:49:27Z&quot;,
  &quot;report_card&quot;: {
    &quot;type&quot;: &quot;import_api&quot;,
    &quot;current_step&quot;: 2,
    &quot;current_step_type&quot;: &quot;fully_configured&quot;,
    &quot;steps&quot;: [
      {
        &quot;type&quot;: &quot;form&quot;,
        &quot;properties&quot;: []
      },
      {
        &quot;type&quot;: &quot;fully_configured&quot;,
        &quot;properties&quot;: []
      }
    ]
  }
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-02T15:49:27Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"import_api"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"import_api"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"system_paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stitch_client_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">116078</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">126890</span><span class="p">,</span><span class="w">
  </span><span class="nl">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Import API"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-02T15:49:27Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"report_card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"import_api"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"current_step"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"current_step_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fully_configured"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"steps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fully_configured"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Note the <code class="language-plaintext highlighter-rouge">id</code> value - you’ll need it to complete the next step.</p>


    <!-- If a step has substeps -->
        

        
            <hr>
        
    
        

        
            <h2 id="generate-an-import-api-access-token">Step 3: Generate an Import API access token</h2>
        

            <p>Requests made to the Import API must include an access token associated with the Import API source. In this step, you’ll generate an access token for the Import API.</p>

<p>Using the Import API source’s ID, make a request to <a href="/docs/developers/stitch-connect/api#generate-iapi-access-token">POST /v4/sources/{source_id}/tokens</a>:</p>

<div class="code-header"><div class="code-description-container"><strong>POST /v4/sources/{source_id}/tokens</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;POST&quot; &quot;https://api.stitchdata.com/v4/sources/126890/tokens&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "POST" "https://api.stitchdata.com/v4/sources/126890/tokens" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>

<p>The response will be an <a href="/docs/developers/stitch-connect/api#import-api-access-token-object">Import API access token object</a> with an <code class="language-plaintext highlighter-rouge">access_token</code> property. The value of this property is the access token you’ll need to include in requests made to the Import API:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for POST /v4/sources/{source_id}/tokens</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;id&quot;: 828792559,
  &quot;access_token&quot;: &quot;&lt;IMPORT_API_ACCESS_TOKEN&gt;&quot;
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">828792559</span><span class="p">,</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;IMPORT_API_ACCESS_TOKEN&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Note</strong>: The API will only return the Import API access token once, immediately after generation. Store the access token and its ID somewhere secure, <a href="/docs/developers/stitch-connect/guides/manage-import-api-access-tokens#rotate-import-api-access-tokens">as you’ll need the access token ID to revoke the token</a>.</p>


    <!-- If a step has substeps -->
        

        
            <hr>
        
    
        

        
            <h2 id="push-data-import-api">Step 4: Push data to the Import API</h2>
        

            <p>Now that the Import API source is <code class="language-plaintext highlighter-rouge">fully_configured</code>, you can start pushing data to it.</p>

<p>While you used the Connect API to create the Import API source, to actually push data, you’ll need to use the <a href="/docs/developers/import-api/api">Import API</a>.</p>

<p>In this section:</p>

<!-- This include is used to format section/subsection steps in developer tutorials. -->

<!-- Variables assigned based on parameters passed
    into the include. Ex: page.sections, or sections.subsections -->

<table class="attribute-list">
    <tr>
        <td width="5%; fixed">
            <strong>Step</strong>
        </td>
        <td width="40%; fixed">
            <strong>Action</strong>
        </td>
        <td>
            <strong>Endpoint</strong>
        </td>
    </tr>
    
        <tr>
            <td>
                
                        
                            1
                        
                    
            </td>
            <td>
                <a href="#build-import-api-request-header">
                    Build the request header
                </a>
            </td>
            <td>
                
            </td>
        </tr>
    
        <tr>
            <td>
                
                        
                            2
                        
                    
            </td>
            <td>
                <a href="#submit-request-to-import-api">
                    Submit the request
                </a>
            </td>
            <td>
                POST /v2/import/batch
            </td>
        </tr>
    
</table>


    <!-- If a step has substeps -->
        
            
                

                
                    <h3 id="build-import-api-request-header">Step 4.1: Build the request header</h3>
                

                <p>Pushing data to the Import API is accomplished by making a request to <a href="/docs/developers/import-api/api#batch-data">POST /v2/import/batch</a>. The request header must include the Import API access token and a supported media type of <code class="language-plaintext highlighter-rouge">Content-Type: application/json</code>:</p>

<div class="code-header"><div class="code-description-container"><strong>POST /v2/import/batch</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;POST&quot; &quot;https://api.stitchdata.com/v2/import/batch&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "POST" "https://api.stitchdata.com/v2/import/batch" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>



            <!-- If a substep has its own substeps -->
                
            
                

                
                    <h3 id="submit-request-to-import-api">Step 4.2: Submit the request</h3>
                

                
<div class="alert alert-info" role="alert">
    <i class="fas fa-info-circle"></i>
    <strong>Note</strong>: Instructions for structuring the data in request bodies for the Import API is outside the scope of this guide. Refer to the <a href="/docs/developers/import-api/guides/structure-data-for-the-import-api">Structuring data for the Import API guide</a> for instructions and examples.
</div>

<p>To push data to Stitch, use the <a href="/docs/developers/import-api/api#batch-data">Create a batch</a> endpoint. This endpoint uses a JSON schema to validate and type the data in the records sent to the Import API.</p>

<p>Once the request is processed, data will be loaded into the destination connected to your Stitch account.</p>

<p>In the example below, the request will send a single record for the <code class="language-plaintext highlighter-rouge">customers</code> table to the Import API:</p>

<div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;POST&quot; &quot;https://api.stitchdata.com/v2/import/batch&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39; \
     -d $
&#39;{
   &quot;table_name&quot;:&quot;customers&quot;,
   &quot;schema&quot;:{
      &quot;properties&quot;:{
         &quot;id&quot;:{
            &quot;type&quot;:&quot;integer&quot;
         },
         &quot;name&quot;:{
            &quot;type&quot;:&quot;string&quot;
         },
         &quot;age&quot;:{
            &quot;type&quot;:&quot;integer&quot;
         },
         &quot;has_magic&quot;:{
            &quot;type&quot;:&quot;boolean&quot;
         }
      }
   },
   &quot;messages&quot;:[
      {
         &quot;action&quot;:&quot;upsert&quot;,
         &quot;sequence&quot;:1565880017,
         &quot;data&quot;:{
            &quot;id&quot;:1,
            &quot;name&quot;:&quot;Finn&quot;,
            &quot;age&quot;:15,
            &quot;has_magic&quot;:false
         }
      }
   ],
   &quot;key_names&quot;:[
      &quot;id&quot;
   ]
}&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "POST" "https://api.stitchdata.com/v2/import/batch" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json' \
     -d $
'{
   "table_name":"customers",
   "schema":{
      "properties":{
         "id":{
            "type":"integer"
         },
         "name":{
            "type":"string"
         },
         "age":{
            "type":"integer"
         },
         "has_magic":{
            "type":"boolean"
         }
      }
   },
   "messages":[
      {
         "action":"upsert",
         "sequence":1565880017,
         "data":{
            "id":1,
            "name":"Finn",
            "age":15,
            "has_magic":false
         }
      }
   ],
   "key_names":[
      "id"
   ]
}'
</code></pre>

<p>If successful, the Import API will return a <code class="language-plaintext highlighter-rouge">2xx</code> status and a <a href="/docs/developers/import-api/api#batch-status-object">Batch Status</a> object.</p>

<p>If the status is <code class="language-plaintext highlighter-rouge">201</code>, this means that the request was accepted and will be processed later. New data will be added once the request is processed. The response body will be:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for  (201 status)</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;status&quot;: &quot;OK&quot;,
  &quot;message&quot;: &quot;Batch Accepted!&quot;
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Batch Accepted!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>If the status is <code class="language-plaintext highlighter-rouge">202</code>, this means that the request was accepted, but cannot currently be processed due to an internal error. Data will be automatically re-processed. The response body will be:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for  (202 status)</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;status&quot;: &quot;Accepted&quot;,
  &quot;message&quot;: &quot;The batch is queued to be processed.&quot;
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The batch is queued to be processed."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Note</strong>: Due to the structure of Stitch’s replication process, data pushed to the Import API will not immediately be available in the destination. The successful response in this section refers only to Stitch <strong>accepting</strong> the data, not it being loaded.</p>


            <!-- If a substep has its own substeps -->
                
            
        

        
            <hr>
        
    
        

        
            <h2 id="verify-data-destination">Step 5: Verify the data in the destination</h2>
        

            <p>After you’ve pushed a batch of data to the Import API, Stitch will queue it for processing.</p>

<p>Stitch’s replication process consists of three distinct steps: Extraction, preparation, and loading. Each step occurs independently and takes a bit of time to complete, which means you won’t immediately see data in your destination after it’s been pushed to the Import API.</p>

<p>When Stitch loads the data into the destination, it will be in the schema or dataset associated with the <a href="#create-source-complete-form-step">Import API source you created</a>. In this example, Stitch would create a table named <code class="language-plaintext highlighter-rouge">customers</code> with a single record in a schema named <code class="language-plaintext highlighter-rouge">import_api</code>:</p>

<table class="attribute-list">
<tr>
<td><strong>id</strong></td>
<td><strong>name</strong></td>
<td><strong>age</strong></td>
<td><strong>has_magic</strong></td>
</tr>
<tr>
<td>1</td>
<td>Finn</td>
<td>15</td>
<td>false</td>
</tr>
</table>

<p><strong>Note</strong>: How data is structured in your destination depends on how attributes are typed in Import API requests <strong>and</strong> the type of destination Stitch loads data into. Refer to the <a href="/docs/developers/import-api/guides/structure-data-for-the-import-api">Structuring data for the Import API guide</a> for more info.</p>

<hr />


    <!-- If a step has substeps -->
        

        
    


<!-- NEXT STEPS  -->
    
        <h2 id="next-steps">Next steps</h2>

        <p>Congratulations on configuring your Import API source! Next, we recommend checking out:</p>

<ul>
  <li><a href="/docs/developers/import-api/guides/structure-data-for-the-import-api"><strong>Structuring data for the Import API</strong></a>: Learn how to structure and type data in your Import API requests.</li>
  <li><a href="/docs/developers/import-api/guides/sequencing-data-for-the-import-api"><strong>Sequencing data for the Import API</strong></a>: Learn how the Import API considers data points for loading, which affects how data is updated in your destination.</li>
  <li><a href="/docs/developers/stitch-connect/guides/manage-import-api-access-tokens"><strong>Managing and revoking Import API access tokens via the Connect API</strong></a>: Learn how to manage and revoke Import API access tokens using the Connect API.</li>
</ul>

    

<!-- GitHub Feedback snippet -->

</div>

<hr class="footer-cta">
<div class="footer-signup-cta" data-swiftype-index='false'>
    <div class="wrapper">
        <div>
            <p>Try Stitch for free</p>
        </div>
        <div>
            <a href="https://www.stitchdata.com/signup" class="btn-default btn-default--yellow">
                Start your trial <span class="arrow"></span>
            </a>
        </div>
    </div>
</div>
<footer data-swiftype-index='false'>
    <div class="site-generation">
        &copy;2020 Stitch. All rights reserved. 
         Site last generated: Jul 23, 2020
    </div>
    
</footer>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/docs/js/docsearch.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<!-- Used for creating heading anchors -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="//cdn.statuspage.io/se-v2.js"></script>

<script src="/docs/js/toc.js"></script>
<script src="/docs/js/customscripts.js"></script>
<script src="/docs/js/copyCode.js"></script>

<script type="text/javascript">
    $(".fouc").removeClass("fouc");
</script>

<!-- Intercom bubble -->
<script>
  window.intercomSettings = {
    app_id: "okjpf68w"
  };
</script>
<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/okjpf68w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>

<!-- Search -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','SAg6gNWby6H1xYzjhfzB','2.0.0');
</script>

<div class="st-search-container"></div>

</body>
</html>

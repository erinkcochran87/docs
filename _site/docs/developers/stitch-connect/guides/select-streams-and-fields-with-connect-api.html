<!DOCTYPE html>
<head>
    <!-- Google Tag Manager  -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PXBN5GK');</script>
<!-- End Google Tag Manager -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta class="swiftype" name="description" data-type="string" content="Using the Stitch Connect API, select a source's streams and fields for replication using this step-by-step tutorial.">
<meta class="swiftype" name="keywords" data-type="string" content=",  ">
<title>Select Streams and Fields with the Connect API | Stitch Documentation</title>

<meta property="og:title" content="Select Streams and Fields with the Connect API | Stitch Documentation" />
<meta property="og:description" content="Using the Stitch Connect API, select a source's streams and fields for replication using this step-by-step tutorial." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs" />
<meta property="og:image" content="https://www.stitchdata.com/images/og-site-icon-talend.png" />
<meta property="og:site_name" content="Stitch Docs" />

<meta name="twitter:creator" content="@stitch_data">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@stitch_data" />
<meta name="twitter:image" content="https://www.stitchdata.com/images/og-site-icon-talend.png" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- STYLESHEETS -->
<link rel="stylesheet" type="text/css" href="/docs/css/bootstrap.min.css">
<link rel="stylesheet" href="/docs/css/modern-business.css">
<link rel="stylesheet" href="/docs/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/docs/css/customstyles.css">
<link rel="stylesheet" href="/docs/css/theme-stitch.css">
<link rel="stylesheet" href="/docs/css/docsearch.min.css" />
<link rel="stylesheet" href="/docs/stylesheets/screen.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- FONT AWESOME -->
<script src="https://kit.fontawesome.com/e0e120b2f0.js"></script>

<!-- JQUERY -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/docs/js/jquery.navgoco.min.js"></script>

<!-- FAVICONS  -->
<link rel="/docs/images/apple-touch-icon" sizes="57x57" href="/docs/images/apple-icon-57x57.png">
<link rel="/docs/images/apple-touch-icon" sizes="60x60" href="/docs/images/apple-icon-60x60.png">
<link rel="/docs/images/apple-touch-icon" sizes="72x72" href="/docs/images/apple-icon-72x72.png">
<link rel="/docs/images/apple-touch-icon" sizes="76x76" href="/docs/images/apple-icon-76x76.png">
<link rel="/docs/images/apple-touch-icon" sizes="114x114" href="/docs/images/apple-icon-114x114.png">
<link rel="/docs/images/apple-touch-icon" sizes="120x120" href="/docs/images/apple-icon-120x120.png">
<link rel="/docs/images/apple-touch-icon" sizes="144x144" href="/docs/images/apple-icon-144x144.png">
<link rel="/docs/images/apple-touch-icon" sizes="152x152" href="/docs/images/apple-icon-152x152.png">
<link rel="/docs/images/apple-touch-icon" sizes="180x180" href="/docs/images/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/docs/images/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/docs/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/docs/images/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/docs/images/favicon-16x16.png">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="/docs/css/syntax.css">

<!-- FONTS -->
<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700&display=swap" rel="stylesheet">

<style type="text/css">
	.js .fouc {display: none !important;}
</style>

<script type="text/javascript">
	document.documentElement.className = 'js';
</script>

<!-- Begin Inspectlet Embed Code -->
<script type="text/javascript" id="inspectletjs">
window.__insp = window.__insp || [];
__insp.push(['wid', 479657659]);
(function() {
function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
})();
</script>
<!-- End Inspectlet Embed Code -->


  <!-- Initializes tooltips -->
    <script>
      $(function () {
            $('[data-toggle="tooltip"]').tooltip({
              delay: {show: 0, hide: 2000}
            });
        })
    </script>

</head>



<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PXBN5GK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Navigation -->

<nav class="stitch-docs-navbar" data-swiftype-index='false'>
    <div class="nav-left">
        <?xml version="1.0" encoding="utf-8"?>
        <!-- Generator: Adobe Illustrator 23.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
        <svg version="1.1" id="logomark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             viewBox="0 0 380 380" enable-background="new 0 0 380 380" xml:space="preserve">
        <path id="logomark_2_" fill="#FFFFFF" d="M120,177.1v-26.7h260V0H0v203.8h270.5v26.7H0V380h380V175.2H120V177.1z M193.3,39
            c10.5,0,19,8.6,19,19s-8.6,19-19,19s-19-8.6-19-19C174.3,46.7,183.8,39,193.3,39z M112.4,96.2H281l-7.6,26.7H119L112.4,96.2z
             M193.3,340c-10.5,0-19-8.6-19-19c0-10.5,8.6-19,19-19s19,8.6,19,19C212.4,331.4,202.9,340,193.3,340z M112.4,281.9l6.7-26.7h154.3
            l7.6,26.7H112.4z"/>
        </svg>
        <a class="navbar-brand" href="/docs/">
            <span class="projectTitle"> Stitch Docs</span>
        </a>
    </div>
    <div class="mobile-nav-icon"></div>
    <div id="close" class="mobile-close-out hide"></div>
    <div class="nav-right">
        <ul class="stitch-nav">
            <!-- entries without drop-downs appear here -->
            
                
                    
                        <li>
                            <a href="https://www.stitchdata.com" target="_blank">stitchdata.com</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://github.com/stitchdata/docs#stitch-documentation" target="_blank"><i class="fab fa-github" aria-hidden="true"></i> Contribute
</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://www.stitchdata.com/changelog" target="_blank">Changelog</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="/docs/announcements">Announcements</a>
                        </li>
                    
                
            
            <li class="sign-up"><a href="https://stitchdata.com/signup">Sign up</a></li>
            <li>
                <!--start search-->
                <div id="search-demo-container">
                    <input type="text" id="search-input" placeholder="What can we help you find?">
                    <div class="img"><i class="fa fa-search"></i></div>
                </div>
            </li>
        </ul>
    </div>


</nav>


<!-- Page Content -->
<div id="main">
    <div class="sidebar-column">
      <div class="sidebar-button"></div>
        
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



    <!-- This is temporary until the tutorial and on-page navigation is improved. -->
        
            
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->


<div class="menu-list">

<ul id="mysidebar" class="nav" data-swiftype-index='false'>
    <!-- Stitch status widget -->
    <a class="status-page" href="http://status.stitchdata.com" target="_blank">
        <span class="color-dot"></span>
        <span class="color-description"></span>
    </a>

    <li>
    	<strong>In this guide:</strong>
    </li>

    
        
    	    <li>
    			<a href="#">
    		    	Introduction
    		    </a>
    		</li>
        
	


    
        <li>
            <a href="#prerequisites">
                Prerequisites
            </a>
        </li>
    

    
        

		
            	<li>
            		<a href="#configure-the-source">
                        
		                   1: 
                        
                           Create and configure the source
		            </a>
		        </li>
    		
    	</li>
    
        

		
            <li class="subfolders">
                <a data-toggle="collapse" href="#successful-connection-check-discovery--menu" aria-expanded="false" aria-controls="successful-connection-check-discovery--menu">
                    
                        2: 
                    
                    Wait for a successful connection check and discovery 
                    <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                </a>

                <ul class="collapse" id="successful-connection-check-discovery--menu">
            		<li>
                        <a href="#successful-connection-check-discovery">2: Wait for a successful connection check and discovery</a>
                    </li>

               		
                        

                		<li>
                            <a href="#get-sources-connection-check">
                                
                                    2.1: 
                                
                                Get the source's last connection check
                            </a>
                        </li>
                	
                        

                		<li>
                            <a href="#verify-current-connection-step">
                                
                                    2.2: 
                                
                                Verify the current connection step
                            </a>
                        </li>
                	
                </ul>
            
    	</li>
    
        

		
            	<li>
            		<a href="#get-available-streams">
                        
		                   3: 
                        
                           Get the source's available streams
		            </a>
		        </li>
    		
    	</li>
    
        

		
            <li class="subfolders">
                <a data-toggle="collapse" href="#understand-retrieve-stream-metadata--menu" aria-expanded="false" aria-controls="understand-retrieve-stream-metadata--menu">
                    
                        4: 
                    
                    Understand and retrieve the stream's schema 
                    <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                </a>

                <ul class="collapse" id="understand-retrieve-stream-metadata--menu">
            		<li>
                        <a href="#understand-retrieve-stream-metadata">4: Understand and retrieve the stream's schema</a>
                    </li>

               		
                        

                		<li>
                            <a href="#understand-field-metadata">
                                
                                    4.1: 
                                
                                Understand field metadata
                            </a>
                        </li>
                	
                        

                		<li>
                            <a href="#get-stream-schema">
                                
                                    4.2: 
                                
                                Get the stream's schema
                            </a>
                        </li>
                	
                </ul>
            
    	</li>
    
        

		
            <li class="subfolders">
                <a data-toggle="collapse" href="#select-configure-a-stream--menu" aria-expanded="false" aria-controls="select-configure-a-stream--menu">
                    
                        5: 
                    
                    Select and configure a stream 
                    <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                </a>

                <ul class="collapse" id="select-configure-a-stream--menu">
            		<li>
                        <a href="#select-configure-a-stream">5: Select and configure a stream</a>
                    </li>

               		
                        

                		<li>
                            <a href="#create-the-request-body">
                                
                                    5.1: 
                                
                                Create the request body
                            </a>
                        </li>
                	
                        

                		<li>
                            <a href="#configure-stream-replication">
                                
                                    5.2: 
                                
                                Configure stream replication
                            </a>
                        </li>
                	
                        

                		<li>
                            <a href="#submit-stream-request">
                                
                                    5.3: 
                                
                                Submit the request
                            </a>
                        </li>
                	
                </ul>
            
    	</li>
    
        

		
            	<li>
            		<a href="#select-fields-in-a-stream">
                        
		                   6: 
                        
                           Select fields in a stream
		            </a>
		        </li>
    		
    	</li>
    

    
        <li>
            <a href="#next-steps">
                 Next steps
            </a>
        </li>
    

    
	    <hr>

	    <li>
	    	<strong>Related:</strong>
	    </li>

	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/api">
		            	Connect API reference
		            </a>
		        </li>
	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/guides">
		            	Connect guides
		            </a>
		        </li>
	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/guides/create-data-source-with-stitch-connect">
		            	Create and configure a source with Connect
		            </a>
		        </li>
	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/guides/field-selection-compatibility-rules">
		            	Field selection and compatibility rules
		            </a>
		        </li>
	    	
	
</ul>

</div>
        
    
    </div>
    <div class="content-column">

        <div class="article">
          
            <div class="breadbox">
                <div class="breadcrumb-container" data-swiftype-index='false'>
                    <div id="breadcrumb-menu" class="menu-left">
                        <!-- Credit to JoostS for this code: https://stackoverflow.com/questions/9612235/what-are-some-good-ways-to-implement-breadcrumbs-on-a-jekyll-site -->




<a href="/docs">DOCS</a>

  
    > <a href="/docs/developers/">DEVELOPERS</a>
  

  
    > <a href="/docs/developers/stitch-connect/">STITCH CONNECT</a>
  

  
    > <a href="/docs/developers/stitch-connect/guides/">GUIDES</a>
  

  
    > <strong>SELECT STREAMS AND FIELDS WITH THE CONNECT API</strong>
  


                    </div>

                    
                </div>
            </div>
          

          <div class="post-header">
    <h1 class="post-title-main">Select Streams and Fields with the Connect API</h1>
</div>

<div class="post-content">
<!-- Controls display of page summary -->
   

<!-- Table of Contents -->
    

    

      
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



<!-- This only runs for destination and integration pages.
    The include assigns a different page variable, and displays the correct
    beta notice when applicable. -->
    
        <!-- This file is used to assign the correct
	page variable for destination and integration content.

	It'll also display the appropriate beta notice for
	destinations/integrations that require it. -->

    
    


<!-- TUTORIAL INTRODUCTION -->
    
        
        	
<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Tooltips and terms -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<p>Using the Stitch Connect API, select a source’s streams and fields for replication using this step-by-step tutorial.</p>

<p><strong>Note</strong>: While this guide will walk you through creating, configuring, and advancing a new source to its <code class="language-plaintext highlighter-rouge">field_selection</code> <a href="/docs/developers/stitch-connect/api#connection-step-object">connection step</a>, the steps are still applicable to existing <code class="language-plaintext highlighter-rouge">fully_configured</code> sources if their Report Cards have a <code class="language-plaintext highlighter-rouge">field_selection</code> step. You may only select streams and fields when a source’s <code class="language-plaintext highlighter-rouge">current_step</code> is <code class="language-plaintext highlighter-rouge">field_selection</code> or <code class="language-plaintext highlighter-rouge">fully_configured</code>.</p>


            <hr>
        
    


<!-- TUTORIAL REQUIREMENTS -->
    
        <h2 id="prerequisites">Prerequisites</h2>
        
        <ul>
            
                <li><p><strong>Access to Stitch Connect and valid Connect API credentials.</strong> Connect access is a Stitch Enterprise feature. Refer to the <a href="/docs/developers/stitch-connect/api#authentication">Connect API reference</a> for more info on obtaining API credentials.</p>
</li>
            
                <li><p><strong>Access to a source with a <code class="language-plaintext highlighter-rouge">field_selection</code> connection step</strong>. This guide will use a <a href="/docs/developers/stitch-connect/api#form-properties-shopify-object">Shopify SaaS source</a> as an example, but any source type with a <code class="language-plaintext highlighter-rouge">field_selection</code> step will work.</p>

<p>Refer to the <a href="/docs/developers/stitch-connect/guides/source-destination-reference#sources-api-availability">Destination and source API availability reference</a> for the sources supported by Connect. To determine if a source has a <code class="language-plaintext highlighter-rouge">field_selection</code> step, <a href="/docs/developers/stitch-connect/api#get-a-source-type">retrieve its Report Card</a>.</p>
</li>
            
        </ul>

        

        <hr>
    


<!-- TUTORIAL STEPS -->
    
        

        
            <h2 id="configure-the-source">Step 1: Create and configure the source</h2>
        

            
<p>Create and configure a source. Refer to steps 1-3 of the <a href="/docs/developers/stitch-connect/guides/create-data-source-with-stitch-connect">Create and configure a source using the Connect API guide</a> for instructions.</p>


    <!-- If a step has substeps -->
        

        
            <hr>
        
    
        

        
            <h2 id="successful-connection-check-discovery">Step 2: Wait for a successful connection check and discovery</h2>
        

            <p>After the <a href="/docs/developers/stitch-connect/api#create-a-source">Source API</a> reports that the source’s <code class="language-plaintext highlighter-rouge">current_step</code> is equal to the <code class="language-plaintext highlighter-rouge">discover_schema</code> connection step, Stitch will automatically kick off a connection check. This is a test performed by Stitch that checks the configuration of a source’s connection parameters and discovers the streams and fields available for the source.</p>

<!-- This include is used to format section/subsection steps in developer tutorials. -->

<!-- Variables assigned based on parameters passed
    into the include. Ex: page.sections, or sections.subsections -->

<table class="attribute-list">
    <tr>
        <td width="5%; fixed">
            <strong>Step</strong>
        </td>
        <td width="40%; fixed">
            <strong>Action</strong>
        </td>
        <td>
            <strong>Endpoint</strong>
        </td>
    </tr>
    
        <tr>
            <td>
                
                        
                            1
                        
                    
            </td>
            <td>
                <a href="#get-sources-connection-check">
                    Get the source's last connection check
                </a>
            </td>
            <td>
                GET /v4/sources/{source_id}/last-connection-check
            </td>
        </tr>
    
        <tr>
            <td>
                
                        
                            2
                        
                    
            </td>
            <td>
                <a href="#verify-current-connection-step">
                    Verify the current connection step
                </a>
            </td>
            <td>
                GET /v4/sources/{source_id}
            </td>
        </tr>
    
</table>


    <!-- If a step has substeps -->
        
            
                

                
                    <h3 id="get-sources-connection-check">Step 2.1: Get the source's last connection check</h3>
                

                <p>To view the results of the source’s <a href="/docs/developers/stitch-connect/api#connection-check--object">last connection check</a>, make a request to <a href="/docs/developers/stitch-connect/api#retrieve-sources-last-connection-check">GET /v4/sources/{source_id}/last-connection-check</a>, replacing <code class="language-plaintext highlighter-rouge">{source_id}</code> with the source’s ID:</p>

<div class="code-header"><div class="code-description-container"><strong>GET /v4/sources/{source_id}/last-connection-check</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl &quot;https://api.stitchdata.com/v4/sources/122635/last-connection-check&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl "https://api.stitchdata.com/v4/sources/122635/last-connection-check" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>

<p>A successful connection check and discovery will have a <code class="language-plaintext highlighter-rouge">status</code> of <code class="language-plaintext highlighter-rouge">succeeded</code> and a <code class="language-plaintext highlighter-rouge">discovery_exit_status</code> of <code class="language-plaintext highlighter-rouge">0</code>:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for GET /v4/sources/{source_id}/last-connection-check</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;target_exit_status&quot;: null,
  &quot;tap_error_message&quot;: null,
  &quot;check_exit_status&quot;: 0,
  &quot;name&quot;: &quot;116078.122635.check.c5e705e2-1b62-11e9-b0e4-0e61abdd375a&quot;,
  &quot;start_time&quot;: &quot;2019-01-18T20:51:05Z&quot;,
  &quot;mode&quot;: &quot;check&quot;,
  &quot;tap_exit_status&quot;: null,
  &quot;target_error_message&quot;: null,
  &quot;discovery_exit_status&quot;: 0,
  &quot;status&quot;: &quot;succeeded&quot;,
  &quot;completion_time&quot;: &quot;2019-01-18T20:51:07Z&quot;,
  &quot;error&quot;: false,
  &quot;discovery_error_message&quot;: null
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_exit_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tap_error_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"check_exit_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"116078.122635.check.c5e705e2-1b62-11e9-b0e4-0e61abdd375a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-18T20:51:05Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"check"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tap_exit_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"target_error_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discovery_exit_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"succeeded"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-18T20:51:07Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discovery_error_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>When the connection check completes, the source’s <code class="language-plaintext highlighter-rouge">current_step</code> will advance to <code class="language-plaintext highlighter-rouge">field_selection</code>.</p>


            <!-- If a substep has its own substeps -->
                
            
                

                
                    <h3 id="verify-current-connection-step">Step 2.2: Verify the current connection step</h3>
                

                <p>Next, you’ll verify that the source has advanced to the <code class="language-plaintext highlighter-rouge">field_selection</code> step. This step indicates that available streams and fields can be selected for replication.</p>

<p>To get the source’s <code class="language-plaintext highlighter-rouge">current_step</code>, make a request to <a href="/docs/developers/stitch-connect/api#retrieve-a-source">GET /v4/sources/{source_id}</a>, replacing <code class="language-plaintext highlighter-rouge">{source_id}</code> with the source’s ID:</p>

<div class="code-header"><div class="code-description-container"><strong>GET /v4/sources/{source_id}</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl &quot;https://api.stitchdata.com/v4/sources/122635&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl "https://api.stitchdata.com/v4/sources/122635" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>

<p>The response will be the source’s <a href="/docs/developers/stitch-connect/api#report-card-object--source"><code class="language-plaintext highlighter-rouge">report_card</code> object</a>. In this example, the <code class="language-plaintext highlighter-rouge">current_step</code> is <code class="language-plaintext highlighter-rouge">4</code>, which corresponds to the <code class="language-plaintext highlighter-rouge">field_selection</code> step:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for GET /v4/sources/{source_id}</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;properties&quot;: {
    &quot;anchor_time&quot;: &quot;2019-01-22T21:00:00.000Z&quot;,
    &quot;cron_expression&quot;: null,
    &quot;frequency_in_minutes&quot;: &quot;60&quot;,
    &quot;image_version&quot;: &quot;1.latest&quot;,
    &quot;product&quot;: &quot;pipeline&quot;,
    &quot;shop&quot;: &quot;&lt;SHOP&gt;&quot;,
    &quot;start_date&quot;: &quot;2018-01-10T19:38:04Z&quot;,
    &quot;token&quot;: null
  },
  &quot;updated_at&quot;: &quot;2019-01-23T13:08:52Z&quot;,
  &quot;name&quot;: &quot;shopify&quot;,
  &quot;type&quot;: &quot;platform.shopify&quot;,
  &quot;deleted_at&quot;: null,
  &quot;system_paused_at&quot;: &quot;2019-01-23T00:00:00Z&quot;,
  &quot;stitch_client_id&quot;: 116078,
  &quot;paused_at&quot;: null,
  &quot;id&quot;: 122635,
  &quot;display_name&quot;: &quot;Shopify&quot;,
  &quot;created_at&quot;: &quot;2019-01-10T19:38:18Z&quot;,
  &quot;report_card&quot;: {
    &quot;type&quot;: &quot;platform.shopify&quot;,
    &quot;current_step&quot;: 4,
    &quot;steps&quot;: [
      {
        &quot;type&quot;: &quot;form&quot;,
        &quot;properties&quot;: [
          {
            &quot;name&quot;: &quot;image_version&quot;,
            &quot;is_required&quot;: true,
            &quot;provided&quot;: true,
            &quot;is_credential&quot;: false,
            &quot;system_provided&quot;: true,
            &quot;json_schema&quot;: null,
            &quot;tap_mutable&quot;: false
          },
          {
            &quot;name&quot;: &quot;frequency_in_minutes&quot;,
            &quot;is_required&quot;: true,
            &quot;provided&quot;: true,
            &quot;is_credential&quot;: false,
            &quot;system_provided&quot;: false,
            &quot;json_schema&quot;: {
              &quot;type&quot;: &quot;string&quot;,
              &quot;pattern&quot;: &quot;^1$|^30$|^60$|^360$|^720$|^1440$&quot;
            },
            &quot;tap_mutable&quot;: false
          },
          {
            &quot;name&quot;: &quot;anchor_time&quot;,
            &quot;is_required&quot;: false,
            &quot;provided&quot;: true,
            &quot;is_credential&quot;: false,
            &quot;system_provided&quot;: false,
            &quot;json_schema&quot;: {
              &quot;type&quot;: &quot;string&quot;,
              &quot;format&quot;: &quot;date-time&quot;
            },
            &quot;tap_mutable&quot;: false
          },
          {
            &quot;name&quot;: &quot;date_window_size&quot;,
            &quot;is_required&quot;: false,
            &quot;provided&quot;: false,
            &quot;is_credential&quot;: false,
            &quot;system_provided&quot;: false,
            &quot;json_schema&quot;: {
              &quot;type&quot;: &quot;integer&quot;
            },
            &quot;tap_mutable&quot;: false
          },
          {
            &quot;name&quot;: &quot;shop&quot;,
            &quot;is_required&quot;: true,
            &quot;provided&quot;: true,
            &quot;is_credential&quot;: false,
            &quot;system_provided&quot;: false,
            &quot;json_schema&quot;: {
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;tap_mutable&quot;: false
          },
          {
            &quot;name&quot;: &quot;start_date&quot;,
            &quot;is_required&quot;: true,
            &quot;provided&quot;: true,
            &quot;is_credential&quot;: false,
            &quot;system_provided&quot;: false,
            &quot;json_schema&quot;: {
              &quot;type&quot;: &quot;string&quot;,
              &quot;pattern&quot;: &quot;^\\d{4}-\\d{2}-\\d{2}T00:00:00Z$&quot;
            },
            &quot;tap_mutable&quot;: false
          }
        ]
      },
      {
        &quot;type&quot;: &quot;oauth&quot;,
        &quot;properties&quot;: [
          {
            &quot;name&quot;: &quot;api_key&quot;,
            &quot;is_required&quot;: true,
            &quot;provided&quot;: true,
            &quot;is_credential&quot;: true,
            &quot;system_provided&quot;: true,
            &quot;json_schema&quot;: {
              &quot;type&quot;: &quot;string&quot;
            },
            &quot;tap_mutable&quot;: false
          }
        ]
      },
      {
        &quot;type&quot;: &quot;discover_schema&quot;,
        &quot;properties&quot;: []
      },
      {
        &quot;type&quot;: &quot;field_selection&quot;,
        &quot;properties&quot;: []
      },
      {
        &quot;type&quot;: &quot;fully_configured&quot;,
        &quot;properties&quot;: []
      }
    ]
  }
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"anchor_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-22T21:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cron_expression"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"frequency_in_minutes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.latest"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shop"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;SHOP&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-10T19:38:04Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-23T13:08:52Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopify"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"platform.shopify"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"system_paused_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-23T00:00:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stitch_client_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">116078</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">122635</span><span class="p">,</span><span class="w">
  </span><span class="nl">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shopify"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-10T19:38:18Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"report_card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"platform.shopify"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"current_step"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"steps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image_version"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_credential"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system_provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"json_schema"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tap_mutable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frequency_in_minutes"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_credential"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system_provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"json_schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^1$|^30$|^60$|^360$|^720$|^1440$"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"tap_mutable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anchor_time"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_credential"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system_provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"json_schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date-time"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"tap_mutable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date_window_size"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_credential"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system_provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"json_schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"tap_mutable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shop"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_credential"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system_provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"json_schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"tap_mutable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start_date"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_credential"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system_provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"json_schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^</span><span class="se">\\</span><span class="s2">d{4}-</span><span class="se">\\</span><span class="s2">d{2}-</span><span class="se">\\</span><span class="s2">d{2}T00:00:00Z$"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"tap_mutable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_credential"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system_provided"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"json_schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"tap_mutable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"discover_schema"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"field_selection"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fully_configured"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>



            <!-- If a substep has its own substeps -->
                
            
        

        
            <hr>
        
    
        

        
            <h2 id="get-available-streams">Step 3: Get the source's available streams</h2>
        

            <p>When the <a href="/docs/developers/stitch-connect/api#retrieve-a-source">Source API</a> reports that the source’s <code class="language-plaintext highlighter-rouge">current_step</code> is equal to <code class="language-plaintext highlighter-rouge">field_selection</code>, you can retrieve a list of the streams available for the source.</p>

<div class="alert alert-info" role="alert">
    <i class="fas fa-info-circle"></i>
    <strong>Note</strong>: If a source has a <code class="language-plaintext highlighter-rouge">field_selection</code> step in its report card but its <code class="language-plaintext highlighter-rouge">current_step</code> is <code class="language-plaintext highlighter-rouge">fully_configured</code>, you can still select additional streams and fields. Selection may only occur during <code class="language-plaintext highlighter-rouge">field_selection</code> and <code class="language-plaintext highlighter-rouge">fully_configured</code> steps.
</div>

<p>In general, a stream is:</p>

<ul>
  <li>A unique table or database view in a data source, or</li>
  <li>An API endpoint in a data source</li>
</ul>

<p>To return the streams available for selection, make a request to <a href="/docs/developers/stitch-connect/api#list-streams">GET /v4/sources/{source_id}/streams</a>, replacing <code class="language-plaintext highlighter-rouge">{source_id}</code> with the source’s ID:</p>

<div class="code-header"><div class="code-description-container"><strong>GET /v4/sources/{source_id}/streams</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl &quot;https://api.stitchdata.com/v4/sources/122635/streams&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl "https://api.stitchdata.com/v4/sources/122635/streams" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>

<p>The response will be an array of <a href="/docs/developers/stitch-connect/api#stream--object">Stream objects</a>, each object corresponding to a stream available for selection:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for GET /v4/sources/{source_id}/streams</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="[
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288757,
    &quot;tap_stream_id&quot;: &quot;abandoned_checkouts&quot;,
    &quot;stream_name&quot;: &quot;abandoned_checkouts&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;updated_at&quot;
      ]
    }
  },
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288759,
    &quot;tap_stream_id&quot;: &quot;collects&quot;,
    &quot;stream_name&quot;: &quot;collects&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;updated_at&quot;
      ]
    }
  },
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288758,
    &quot;tap_stream_id&quot;: &quot;custom_collections&quot;,
    &quot;stream_name&quot;: &quot;custom_collections&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;updated_at&quot;
      ]
    }
  },
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288756,
    &quot;tap_stream_id&quot;: &quot;customers&quot;,
    &quot;stream_name&quot;: &quot;customers&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;updated_at&quot;
      ]
    }
  },
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288754,
    &quot;tap_stream_id&quot;: &quot;metafields&quot;,
    &quot;stream_name&quot;: &quot;metafields&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;updated_at&quot;
      ]
    }
  },
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288751,
    &quot;tap_stream_id&quot;: &quot;order_refunds&quot;,
    &quot;stream_name&quot;: &quot;order_refunds&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;created_at&quot;
      ]
    }
  },
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288753,
    &quot;tap_stream_id&quot;: &quot;orders&quot;,
    &quot;stream_name&quot;: &quot;orders&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;updated_at&quot;
      ]
    }
  },
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288755,
    &quot;tap_stream_id&quot;: &quot;products&quot;,
    &quot;stream_name&quot;: &quot;products&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;updated_at&quot;
      ]
    }
  },
  {
    &quot;selected&quot;: null,
    &quot;stream_id&quot;: 2288752,
    &quot;tap_stream_id&quot;: &quot;transactions&quot;,
    &quot;stream_name&quot;: &quot;transactions&quot;,
    &quot;metadata&quot;: {
      &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
      &quot;selected&quot;: null,
      &quot;table-key-properties&quot;: [
        &quot;id&quot;
      ],
      &quot;valid-replication-keys&quot;: [
        &quot;created_at&quot;
      ]
    }
  }
]" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288757</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abandoned_checkouts"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abandoned_checkouts"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288759</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"collects"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"collects"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288758</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom_collections"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom_collections"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288756</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customers"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customers"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288754</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"metafields"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"metafields"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288751</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order_refunds"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order_refunds"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288753</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288755</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"products"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"products"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288752</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transactions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transactions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>



    <!-- If a step has substeps -->
        

        
            <hr>
        
    
        

        
            <h2 id="understand-retrieve-stream-metadata">Step 4: Understand and retrieve the stream's schema</h2>
        

            <!-- This include is used to format section/subsection steps in developer tutorials. -->

<!-- Variables assigned based on parameters passed
    into the include. Ex: page.sections, or sections.subsections -->

<table class="attribute-list">
    <tr>
        <td width="5%; fixed">
            <strong>Step</strong>
        </td>
        <td width="40%; fixed">
            <strong>Action</strong>
        </td>
        <td>
            <strong>Endpoint</strong>
        </td>
    </tr>
    
        <tr>
            <td>
                
                        
                            1
                        
                    
            </td>
            <td>
                <a href="#understand-field-metadata">
                    Understand field metadata
                </a>
            </td>
            <td>
                
            </td>
        </tr>
    
        <tr>
            <td>
                
                        
                            2
                        
                    
            </td>
            <td>
                <a href="#get-stream-schema">
                    Get the stream's schema
                </a>
            </td>
            <td>
                GET /v4/sources/{source_id}/streams/{stream_id}
            </td>
        </tr>
    
</table>


    <!-- If a step has substeps -->
        
            
                

                
                    <h3 id="understand-field-metadata">Step 4.1: Understand field metadata</h3>
                

                <p>Before you retrieve the stream’s schema, we’ll touch on the properties the <a href="/docs/developers/stitch-connect/api#stream-schema-object">Stream Schema object</a> contains. You’ll eventually use this data to select streams and fields, and if applicable, configure the stream’s Replication Method.</p>

<p>The Stream Schema object contains three root properties:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">schema</code> - The JSON schema describing the stream’s fields.</li>
  <li><code class="language-plaintext highlighter-rouge">metadata</code> - An array of <a href="/docs/developers/stitch-connect/api#metadata-object">Metadata</a> objects, each object referring to a field in the stream.</li>
  <li><code class="language-plaintext highlighter-rouge">non-discoverable-metadata-keys</code> - A list of <code class="language-plaintext highlighter-rouge">metadata</code> keys that can be modified.</li>
</ul>

<p>Each <code class="language-plaintext highlighter-rouge">metadata</code> object in the response corresponds to a field in the stream, or a <code class="language-plaintext highlighter-rouge">breadcrumb</code>. The <code class="language-plaintext highlighter-rouge">breadcrumb</code> is a path into the schema that describes the part of the schema associated with the metadata.</p>

<p>Consider this schema:</p>

<div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;schema&quot;:{&quot;properties&quot;:{&quot;id&quot;:{&quot;type&quot;:[&quot;null&quot;,&quot;integer&quot;]},&quot;name&quot;:{&quot;type&quot;:[&quot;null&quot;,&quot;string&quot;]},&quot;updated&quot;:{&quot;format&quot;:&quot;date-time&quot;,&quot;type&quot;:[&quot;null&quot;,&quot;string&quot;]}}
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"schema"</span><span class="p">:{</span><span class="nl">"properties"</span><span class="p">:{</span><span class="nl">"id"</span><span class="p">:{</span><span class="nl">"type"</span><span class="p">:[</span><span class="s2">"null"</span><span class="p">,</span><span class="s2">"integer"</span><span class="p">]},</span><span class="nl">"name"</span><span class="p">:{</span><span class="nl">"type"</span><span class="p">:[</span><span class="s2">"null"</span><span class="p">,</span><span class="s2">"string"</span><span class="p">]},</span><span class="nl">"updated"</span><span class="p">:{</span><span class="nl">"format"</span><span class="p">:</span><span class="s2">"date-time"</span><span class="p">,</span><span class="nl">"type"</span><span class="p">:[</span><span class="s2">"null"</span><span class="p">,</span><span class="s2">"string"</span><span class="p">]}}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>For this example, there would be four different breadcrumb values:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">[]</code> - Refers to the entire schema, or stream</li>
  <li><code class="language-plaintext highlighter-rouge">["properties":"id"]</code> - Refers to <code class="language-plaintext highlighter-rouge">properties.id</code>, or a field named <code class="language-plaintext highlighter-rouge">id</code></li>
  <li><code class="language-plaintext highlighter-rouge">["properties":"name"]</code> - Refers to <code class="language-plaintext highlighter-rouge">properties.name</code>, or a field named <code class="language-plaintext highlighter-rouge">name</code></li>
  <li><code class="language-plaintext highlighter-rouge">["properties":"updated"]</code> - Refers to <code class="language-plaintext highlighter-rouge">properties.name</code>, or a field named <code class="language-plaintext highlighter-rouge">updated</code></li>
</ol>

<p>Below is what the Stream Schema object for this stream might look like:</p>

<div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="{
    &quot;schema&quot;: &quot;{\&quot;properties\&quot;:{\&quot;id\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;integer\&quot;]},\&quot;name\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;updated\&quot;:{\&quot;format\&quot;:\&quot;date-time\&quot;,\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]}},\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;object\&quot;]}&quot;,
    &quot;metadata&quot;: [
      {
        &quot;breadcrumb&quot;: [],
        &quot;metadata&quot;: {
          &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
          &quot;valid-replication-keys&quot;: [
            &quot;updated&quot;
          ],
          &quot;table-key-properties&quot;: [
            &quot;id&quot;
          ]
        }
      },
      {
        &quot;breadcrumb&quot;: [
          &quot;properties&quot;,
          &quot;id&quot;
        ],
        &quot;metadata&quot;: {
          &quot;inclusion&quot;: &quot;automatic&quot;
        }
      },
      {
        &quot;breadcrumb&quot;: [
          &quot;properties&quot;,
          &quot;name&quot;
        ],
        &quot;metadata&quot;: {
          &quot;inclusion&quot;: &quot;available&quot;
        }
      },
      {
        &quot;breadcrumb&quot;: [
          &quot;properties&quot;,
          &quot;updated&quot;
        ],
        &quot;metadata&quot;: {
          &quot;inclusion&quot;: &quot;automatic&quot;
        }
      }
    ],
    &quot;non-discoverable-metadata-keys&quot;: [
      &quot;selected&quot;,
      &quot;replication-method&quot;,
      &quot;replication-key&quot;,
      &quot;view-key-properties&quot;
    ]
  }" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">properties</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">id</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">integer</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">updated</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">format</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">date-time</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]}},</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">object</span><span class="se">\"</span><span class="s2">]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"updated"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"id"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"automatic"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updated"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"automatic"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"non-discoverable-metadata-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"selected"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"replication-method"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"replication-key"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"view-key-properties"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>



            <!-- If a substep has its own substeps -->
                
            
                

                
                    <h3 id="get-stream-schema">Step 4.2: Get the stream's schema</h3>
                

                <p>Next, you’ll retrieve the schema for each stream you want to select for replication. The stream schema is a list of fields the stream contains.</p>

<p>To retrieve a stream’s schema, make a request to <a href="/docs/developers/stitch-connect/api#retrieve-a-streams-schema">GET /v4/sources/{source_id}/streams/{stream_id}</a>, replacing <code class="language-plaintext highlighter-rouge">{source_id}</code> and <code class="language-plaintext highlighter-rouge">{stream_id}</code> with the source ID and stream ID, respectively.</p>

<p>In this example, we’ll get the schema for the <code class="language-plaintext highlighter-rouge">custom_collections</code> table (<code class="language-plaintext highlighter-rouge">stream_id: 2288758</code>):</p>

<div class="code-header"><div class="code-description-container"><strong>GET /v4/sources/{source_id}/streams/{stream_id}</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl &quot;https://api.stitchdata.com/v4/sources/122635/streams/2288758&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl "https://api.stitchdata.com/v4/sources/122635/streams/2288758" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>

<p>The response will be a single <a href="/docs/developers/stitch-connect/api#stream-schema-object">Stream Schema object</a>:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for GET /v4/sources/{source_id}/streams/{stream_id}</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;schema&quot;: &quot;{\&quot;type\&quot;:\&quot;object\&quot;,\&quot;properties\&quot;:{\&quot;handle\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;sort_order\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;published_at\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;published_scope\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;image\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;object\&quot;],\&quot;properties\&quot;:{\&quot;width\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;integer\&quot;]},\&quot;created_at\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;alt\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;src\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;height\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;integer\&quot;]}}},\&quot;id\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;integer\&quot;]},\&quot;template_suffix\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;updated_at\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;admin_graphql_api_id\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;title\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]},\&quot;body_html\&quot;:{\&quot;type\&quot;:[\&quot;null\&quot;,\&quot;string\&quot;]}}}&quot;,
  &quot;metadata&quot;: [
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;handle&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [],
      &quot;metadata&quot;: {
        &quot;table-key-properties&quot;: [
          &quot;id&quot;
        ],
        &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
        &quot;valid-replication-keys&quot;: [
          &quot;updated_at&quot;
        ]
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;template_suffix&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;body_html&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;published_at&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;sort_order&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;title&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;updated_at&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;automatic&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;published_scope&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;id&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;automatic&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;admin_graphql_api_id&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    },
    {
      &quot;breadcrumb&quot;: [
        &quot;properties&quot;,
        &quot;image&quot;
      ],
      &quot;metadata&quot;: {
        &quot;inclusion&quot;: &quot;available&quot;
      }
    }
  ],
  &quot;non-discoverable-metadata-keys&quot;: [
    &quot;selected&quot;,
    &quot;replication-method&quot;,
    &quot;replication-key&quot;,
    &quot;view-key-properties&quot;
  ]
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">object</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">properties</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">handle</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">sort_order</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">published_at</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">published_scope</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">image</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">object</span><span class="se">\"</span><span class="s2">],</span><span class="se">\"</span><span class="s2">properties</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">width</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">integer</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">created_at</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">alt</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">src</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">height</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">integer</span><span class="se">\"</span><span class="s2">]}}},</span><span class="se">\"</span><span class="s2">id</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">integer</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">template_suffix</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">updated_at</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">admin_graphql_api_id</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">title</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]},</span><span class="se">\"</span><span class="s2">body_html</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:[</span><span class="se">\"</span><span class="s2">null</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">]}}}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"handle"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"id"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"updated_at"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"template_suffix"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"body_html"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"published_at"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sort_order"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"automatic"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"published_scope"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"automatic"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin_graphql_api_id"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"image"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"inclusion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"non-discoverable-metadata-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"selected"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"replication-method"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"replication-key"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"view-key-properties"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>



            <!-- If a substep has its own substeps -->
                
            
        

        
            <hr>
        
    
        

        
            <h2 id="select-configure-a-stream">Step 5: Select and configure a stream</h2>
        

            <!-- This include is used to format section/subsection steps in developer tutorials. -->

<!-- Variables assigned based on parameters passed
    into the include. Ex: page.sections, or sections.subsections -->

<table class="attribute-list">
    <tr>
        <td width="5%; fixed">
            <strong>Step</strong>
        </td>
        <td width="40%; fixed">
            <strong>Action</strong>
        </td>
        <td>
            <strong>Endpoint</strong>
        </td>
    </tr>
    
        <tr>
            <td>
                
                        
                            1
                        
                    
            </td>
            <td>
                <a href="#create-the-request-body">
                    Create the request body
                </a>
            </td>
            <td>
                
            </td>
        </tr>
    
        <tr>
            <td>
                
                        
                            2
                        
                    
            </td>
            <td>
                <a href="#configure-stream-replication">
                    Configure stream replication
                </a>
            </td>
            <td>
                
            </td>
        </tr>
    
        <tr>
            <td>
                
                        
                            3
                        
                    
            </td>
            <td>
                <a href="#submit-stream-request">
                    Submit the request
                </a>
            </td>
            <td>
                PUT /v4/sources/{source_id}/streams/metadata
            </td>
        </tr>
    
</table>


    <!-- If a step has substeps -->
        
            
                

                
                    <h3 id="create-the-request-body">Step 5.1: Create the request body</h3>
                

                
<p>To select a stream, you’ll make a request to <a href="/docs/developers/stitch-connect/api#update-a-streams-metadata">POST /v4/sources/{source_id}/streams/metadata</a> with a request body that contains:</p>

<ol>
  <li>
    <p>The stream’s <code class="language-plaintext highlighter-rouge">tap_stream_id</code>. <strong>Note</strong> This is different than the <code class="language-plaintext highlighter-rouge">stream_id</code>, which is always numeric.</p>

    <p>For example: In the examples in this guide, the <code class="language-plaintext highlighter-rouge">stream_id</code> for the <code class="language-plaintext highlighter-rouge">custom_collections</code> table is <code class="language-plaintext highlighter-rouge">2288758</code> while its <code class="language-plaintext highlighter-rouge">tap_stream_id</code> is <code class="language-plaintext highlighter-rouge">custom_collections</code>.</p>
  </li>
  <li>A <a href="/docs/developers/stitch-connect/api#update-a-streams-metadata--arguments">Metadata object</a> with a <code class="language-plaintext highlighter-rouge">breadcrumb</code> property that refers to the entire schema, and</li>
  <li>A <a href="/docs/developers/stitch-connect/api#stream-level-metadata-object">Stream-level Metadata object</a> with a <code class="language-plaintext highlighter-rouge">selected</code> property with a <code class="language-plaintext highlighter-rouge">true</code> value. This is ultimately what will select the stream.</li>
</ol>

<p>This is an example of what the request body will look like:</p>

<div class="code-header"><div class="code-description-container"><strong>Example request body to update a stream's metadata</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="&#39;{
  &quot;streams&quot;: [
    {
      &quot;tap_stream_id&quot;: &quot;&lt;TAP_STREAM_ID&gt;&quot;,
      &quot;metadata&quot;: [
        {
          &quot;breadcrumb&quot;: [],
          &quot;metadata&quot;: {
            &quot;selected&quot;: &quot;true&quot;
          }
        }
      ]
    }
  ]
}&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">'</span><span class="p">{</span><span class="w">
  </span><span class="nl">"streams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;TAP_STREAM_ID&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="err">'</span><span class="w">
</span></code></pre></div></div>

<p><strong>Note</strong>: Multiple streams in a source can be updated in a single request, but for clarity, this guide will focus on selecting a single stream. Refer to the <a href="/docs/developers/stitch-connect/api#update-a-streams-metadata--returns">Update a Stream endpoint documentation</a> for examples.</p>


            <!-- If a substep has its own substeps -->
                
            
                

                
                    <h3 id="configure-stream-replication">Step 5.2: Configure stream replication</h3>
                

                <p>Stitch uses one of three <a href="/docs/replication/replication-methods">Replication Methods</a> to replicate data from selected streams:</p>

<ul>
  <li><a href="/docs/replication/replication-methods/full-table">Full Table Replication</a> - Full Table Replication is a replication method in which all rows in a table - including new, updated, and existing - are replicated during every replication job.</li>
  <li><a href="/docs/replication/replication-methods/key-based-incremental">Key-based Incremental Replication</a> - Key-based Incremental Replication is a replication method in which Stitch identifies new and updated data using a column called a Replication Key.</li>
  <li><a href="/docs/replication/replication-methods/log-based-incremental">Log-based Incremental Replication</a> - Log-based Incremental Replication is a replication method in which Stitch identifies modifications to records - including inserts, updates, and deletes - using a database’s binary log files. <strong>Note</strong>: This Replication Method is only available to <a href="/docs/replication/replication-methods/log-based-incremental#limitation-1--availability">select database integrations</a> and requires additional configuration steps when setting up the source. Refer to the <a href="/docs/integrations/databases">documentation for the database</a> for more info.</li>
</ul>

<h4 id="streams-configurable-replication">Streams with configurable Replication Methods</h4>

<p>For some sources - mainly databases and Salesforce -  you can configure how a stream is replicated by Stitch by providing the method via the <code class="language-plaintext highlighter-rouge">replication-method</code> metadata property. Accepted values are <code class="language-plaintext highlighter-rouge">FULL_TABLE</code>, <code class="language-plaintext highlighter-rouge">INCREMENTAL</code>, and <code class="language-plaintext highlighter-rouge">LOG_BASED</code>.</p>

<p>In this request body example, the <code class="language-plaintext highlighter-rouge">demni2mf59dt10-public-customers</code> stream is set to use <code class="language-plaintext highlighter-rouge">INCREMENTAL</code> replication with <code class="language-plaintext highlighter-rouge">updated_at</code> as the <code class="language-plaintext highlighter-rouge">replication-key</code>:</p>

<div class="code-header"><div class="code-description-container"><strong>Example request body for a stream with a configurable Replication Method</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="&#39;{
  &quot;streams&quot;: [
    {
      &quot;tap_stream_id&quot;: &quot;demni2mf59dt10-public-customers&quot;,
      &quot;metadata&quot;: [
        {
          &quot;breadcrumb&quot;: [],
          &quot;metadata&quot;: {
            &quot;selected&quot;: true,
            &quot;replication-method&quot;: &quot;INCREMENTAL&quot;,
            &quot;replication-key&quot;: &quot;updated_at&quot;
          }
        }
      ]
    }
  ]
}&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">'</span><span class="p">{</span><span class="w">
  </span><span class="nl">"streams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demni2mf59dt10-public-customers"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"replication-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"updated_at"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="err">'</span><span class="w">
</span></code></pre></div></div>

<p><strong>Note</strong>: When <code class="language-plaintext highlighter-rouge">replication-method</code> is set to <code class="language-plaintext highlighter-rouge">INCREMENTAL</code>, the value of the <code class="language-plaintext highlighter-rouge">replication-key</code> property must be one of the following:</p>

<ol>
  <li>One of the fields in the <code class="language-plaintext highlighter-rouge">valid-replication-keys</code> property, if provided. <strong>Note</strong>: If using this method, you must set the <code class="language-plaintext highlighter-rouge">replication-key</code> value using one of these fields. Selecting a field in the <code class="language-plaintext highlighter-rouge">valid-replication-keys</code> property for replication will not automatically set it as the stream’s Replication Key.</li>
  <li>The name of an <code class="language-plaintext highlighter-rouge">integer</code>, <code class="language-plaintext highlighter-rouge">date-time</code>, or <code class="language-plaintext highlighter-rouge">timestamp</code> field in the stream. Refer to the <a href="/docs/replication/replication-keys">Replication Keys documentation</a> for more info.</li>
</ol>

<h4 id="streams-forced-replication">Streams with forced Replication Methods</h4>

<p>In cases where a stream can only be replicated using one method, the stream’s metadata may indicate the method it will use via the <code class="language-plaintext highlighter-rouge">forced-replication-method</code> property:</p>

<div class="code-header"><div class="code-description-container"><strong>Example metadata for a stream with a forced Replication Method</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;selected&quot;: null,
  &quot;stream_id&quot;: 2288758,
  &quot;tap_stream_id&quot;: &quot;custom_collections&quot;,
  &quot;stream_name&quot;: &quot;custom_collections&quot;,
  &quot;metadata&quot;: {
    &quot;forced-replication-method&quot;: &quot;INCREMENTAL&quot;,
    &quot;selected&quot;: null,
    &quot;table-key-properties&quot;: [
      &quot;id&quot;
    ],
    &quot;valid-replication-keys&quot;: [
      &quot;updated_at&quot;
    ]
  }
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stream_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2288758</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom_collections"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stream_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom_collections"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"forced-replication-method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INCREMENTAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"table-key-properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"id"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"valid-replication-keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>When the stream’s metadata contains the <code class="language-plaintext highlighter-rouge">forced-replication-method</code> property, its Replication Method cannot be changed. If selected, the stream will use the <code class="language-plaintext highlighter-rouge">forced-replication-method</code> and the field in <code class="language-plaintext highlighter-rouge">valid-replication-keys</code> as a Replication Key, if applicable.</p>

<p>Your request to select the stream will not need to include a <code class="language-plaintext highlighter-rouge">replication-method</code> property:</p>

<div class="code-header"><div class="code-description-container"><strong>Example request body for a stream with a forced Replication Method</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="&#39;{
  &quot;streams&quot;: [
    {
      &quot;tap_stream_id&quot;: &quot;custom_collections&quot;,
      &quot;metadata&quot;: [
        {
          &quot;breadcrumb&quot;: [],
          &quot;metadata&quot;: {
            &quot;selected&quot;: true
          }
        }
      ]
    }
  ]
}&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">'</span><span class="p">{</span><span class="w">
  </span><span class="nl">"streams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tap_stream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom_collections"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"breadcrumb"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="err">'</span><span class="w">
</span></code></pre></div></div>



            <!-- If a substep has its own substeps -->
                
            
                

                
                    <h3 id="submit-stream-request">Step 5.3: Submit the request</h3>
                

                <p>To select a stream, make a request to <a href="/docs/developers/stitch-connect/api#update-a-streams-metadata">PUT /v4/sources/{source_id}/streams/metadata</a>, replacing <code class="language-plaintext highlighter-rouge">{source_id}</code> with the source ID. The request body must contain with the <a href="#configure-stream-replication">appropriate request body metadata properties</a>:</p>

<div class="code-header"><div class="code-description-container"><strong>PUT /v4/sources/{source_id}/streams/metadata</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;PUT&quot; &quot;https://api.stitchdata.com/v4/sources/122635/streams/metadata&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39; \
     -d $
&#39;{
  &quot;streams&quot;: [
    {
      &quot;tap_stream_id&quot;: &quot;custom_collections&quot;,
      &quot;metadata&quot;: [
        {
          &quot;breadcrumb&quot;: [],
          &quot;metadata&quot;: {
            &quot;selected&quot;: true
          }
        }
      ]
    }
  ]
}&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "PUT" "https://api.stitchdata.com/v4/sources/122635/streams/metadata" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json' \
     -d $
'{
  "streams": [
    {
      "tap_stream_id": "custom_collections",
      "metadata": [
        {
          "breadcrumb": [],
          "metadata": {
            "selected": true
          }
        }
      ]
    }
  ]
}'
</code></pre>



            <!-- If a substep has its own substeps -->
                
            
        

        
            <hr>
        
    
        

        
            <h2 id="select-fields-in-a-stream">Step 6: Select fields in a stream</h2>
        

            
<div class="alert alert-warning" role="alert">
    <i class="fas fa-exclamation-circle"></i>
<strong>Important</strong>:
    Before selecting fields, refer to the <a href="/docs/developers/stitch-connect/guides/field-selection-compatibility-rules">Field selection and compatibility rules guide</a> to ensure the combinations of fields you select are valid for replication.
</div>

<p>After stream selection, field selection can be used to select which fields are replicated from the source stream. The request to select a field is analogous to the request to select a stream, except that the <code class="language-plaintext highlighter-rouge">breadcrumb</code> should point to the field’s path in the schema.</p>

<p>For example: This request selects the <code class="language-plaintext highlighter-rouge">id</code> field in the <code class="language-plaintext highlighter-rouge">custom_collections</code> stream:</p>

<div class="code-header"><div class="code-description-container"><strong>Selecting a single field via PUT /v4/sources/{source_id}/streams/metadata</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;PUT&quot; &quot;https://api.stitchdata.com/v4/sources/122635/streams/metadata&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39; \
     -d $
&#39;{
  &quot;streams&quot;: [
    {
      &quot;tap_stream_id&quot;: &quot;custom_collections&quot;,
      &quot;metadata&quot;: [
        {
          &quot;breadcrumb&quot;: [
            &quot;properties&quot;,
            &quot;id&quot;
          ],
          &quot;metadata&quot;: {
            &quot;selected&quot;: true
          }
        }
      ]
    }
  ]
}&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "PUT" "https://api.stitchdata.com/v4/sources/122635/streams/metadata" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json' \
     -d $
'{
  "streams": [
    {
      "tap_stream_id": "custom_collections",
      "metadata": [
        {
          "breadcrumb": [
            "properties",
            "id"
          ],
          "metadata": {
            "selected": true
          }
        }
      ]
    }
  ]
}'
</code></pre>

<p>Multiple fields in a stream can be submitted as part of the same request. For each field included in the request body, include a <code class="language-plaintext highlighter-rouge">metadata</code> object referencing the field.</p>

<p>For example: This request selects the <code class="language-plaintext highlighter-rouge">id</code>, <code class="language-plaintext highlighter-rouge">published_at</code>, <code class="language-plaintext highlighter-rouge">title</code>, and <code class="language-plaintext highlighter-rouge">handle</code> fields in the <code class="language-plaintext highlighter-rouge">custom_collections</code> stream:</p>

<div class="code-header"><div class="code-description-container"><strong>Selecting multiple fields via PUT /v4/sources/{source_id}/streams/metadata</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;PUT&quot; &quot;https://api.stitchdata.com/v4/sources/122635/streams/metadata&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39; \
     -d $
&#39;{
  &quot;streams&quot;: [
    {
      &quot;tap_stream_id&quot;: &quot;custom_collections&quot;,
      &quot;metadata&quot;: [
        {
          &quot;breadcrumb&quot;: [
            &quot;properties&quot;,
            &quot;id&quot;
          ],
          &quot;metadata&quot;: {
            &quot;selected&quot;: true
          }
        },
        {
          &quot;breadcrumb&quot;: [
            &quot;properties&quot;,
            &quot;published_at&quot;
          ],
          &quot;metadata&quot;: {
            &quot;selected&quot;: true
          }
        },
        {
          &quot;breadcrumb&quot;: [
            &quot;properties&quot;,
            &quot;title&quot;
          ],
          &quot;metadata&quot;: {
            &quot;selected&quot;: true
          }
        },
        {
          &quot;breadcrumb&quot;: [
            &quot;properties&quot;,
            &quot;handle&quot;
          ],
          &quot;metadata&quot;: {
            &quot;selected&quot;: true
          }
        }
      ]
    }
  ]
}&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "PUT" "https://api.stitchdata.com/v4/sources/122635/streams/metadata" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json' \
     -d $
'{
  "streams": [
    {
      "tap_stream_id": "custom_collections",
      "metadata": [
        {
          "breadcrumb": [
            "properties",
            "id"
          ],
          "metadata": {
            "selected": true
          }
        },
        {
          "breadcrumb": [
            "properties",
            "published_at"
          ],
          "metadata": {
            "selected": true
          }
        },
        {
          "breadcrumb": [
            "properties",
            "title"
          ],
          "metadata": {
            "selected": true
          }
        },
        {
          "breadcrumb": [
            "properties",
            "handle"
          ],
          "metadata": {
            "selected": true
          }
        }
      ]
    }
  ]
}'
</code></pre>

<p><strong>Note</strong>: Fields with metadata properties of <code class="language-plaintext highlighter-rouge">inclusion: automatic</code> or <code class="language-plaintext highlighter-rouge">selected-by-default: true</code> don’t need to be explicitly selected through a request. These fields will be automatically selected for replication regardless of their <code class="language-plaintext highlighter-rouge">selected</code> value. Refer to the <a href="/docs/developers/stitch-connect/guides/field-selection-compatibility-rules">Field selection and compatibility rules guide</a> for more info.</p>


    <!-- If a step has substeps -->
        

        
    


<!-- NEXT STEPS  -->
    
        <h2 id="next-steps">Next steps</h2>

        <p>Stream and field selection may occur any time when a source’s <code class="language-plaintext highlighter-rouge">current_step</code> is <code class="language-plaintext highlighter-rouge">field_selection</code> or <code class="language-plaintext highlighter-rouge">fully_configured</code>, as long as the source’s report card has a <code class="language-plaintext highlighter-rouge">field_selection</code> step. To select additional streams and fields, follow steps 3 - 6 of this guide.</p>

    

<!-- GitHub Feedback snippet -->

</div>

<hr class="footer-cta">
<div class="footer-signup-cta" data-swiftype-index='false'>
    <div class="wrapper">
        <div>
            <p>Try Stitch for free</p>
        </div>
        <div>
            <a href="https://www.stitchdata.com/signup" class="btn-default btn-default--yellow">
                Start your trial <span class="arrow"></span>
            </a>
        </div>
    </div>
</div>
<footer data-swiftype-index='false'>
    <div class="site-generation">
        &copy;2020 Stitch. All rights reserved. 
         Site last generated: Jul 23, 2020
    </div>
    
</footer>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/docs/js/docsearch.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<!-- Used for creating heading anchors -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="//cdn.statuspage.io/se-v2.js"></script>

<script src="/docs/js/toc.js"></script>
<script src="/docs/js/customscripts.js"></script>
<script src="/docs/js/copyCode.js"></script>

<script type="text/javascript">
    $(".fouc").removeClass("fouc");
</script>

<!-- Intercom bubble -->
<script>
  window.intercomSettings = {
    app_id: "okjpf68w"
  };
</script>
<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/okjpf68w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>

<!-- Search -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','SAg6gNWby6H1xYzjhfzB','2.0.0');
</script>

<div class="st-search-container"></div>

</body>
</html>

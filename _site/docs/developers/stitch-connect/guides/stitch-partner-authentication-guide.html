<!DOCTYPE html>
<head>
    <!-- Google Tag Manager  -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PXBN5GK');</script>
<!-- End Google Tag Manager -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta class="swiftype" name="description" data-type="string" content="As an API client, you'll need to obtain an API access token before you can make API requests on behalf of a user's Stitch client account. In this guide, we'l...">
<meta class="swiftype" name="keywords" data-type="string" content=",  ">
<title>Stitch Partner API Authentication Guide | Stitch Documentation</title>

<meta property="og:title" content="Stitch Partner API Authentication Guide | Stitch Documentation" />
<meta property="og:description" content="As an API client, you'll need to obtain an API access token before you can make API requests on behalf of a user's Stitch client account. In this guide, we'l..." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs" />
<meta property="og:image" content="https://www.stitchdata.com/images/og-site-icon-talend.png" />
<meta property="og:site_name" content="Stitch Docs" />

<meta name="twitter:creator" content="@stitch_data">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@stitch_data" />
<meta name="twitter:image" content="https://www.stitchdata.com/images/og-site-icon-talend.png" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- STYLESHEETS -->
<link rel="stylesheet" type="text/css" href="/docs/css/bootstrap.min.css">
<link rel="stylesheet" href="/docs/css/modern-business.css">
<link rel="stylesheet" href="/docs/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/docs/css/customstyles.css">
<link rel="stylesheet" href="/docs/css/theme-stitch.css">
<link rel="stylesheet" href="/docs/css/docsearch.min.css" />
<link rel="stylesheet" href="/docs/stylesheets/screen.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- FONT AWESOME -->
<script src="https://kit.fontawesome.com/e0e120b2f0.js"></script>

<!-- JQUERY -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/docs/js/jquery.navgoco.min.js"></script>

<!-- FAVICONS  -->
<link rel="/docs/images/apple-touch-icon" sizes="57x57" href="/docs/images/apple-icon-57x57.png">
<link rel="/docs/images/apple-touch-icon" sizes="60x60" href="/docs/images/apple-icon-60x60.png">
<link rel="/docs/images/apple-touch-icon" sizes="72x72" href="/docs/images/apple-icon-72x72.png">
<link rel="/docs/images/apple-touch-icon" sizes="76x76" href="/docs/images/apple-icon-76x76.png">
<link rel="/docs/images/apple-touch-icon" sizes="114x114" href="/docs/images/apple-icon-114x114.png">
<link rel="/docs/images/apple-touch-icon" sizes="120x120" href="/docs/images/apple-icon-120x120.png">
<link rel="/docs/images/apple-touch-icon" sizes="144x144" href="/docs/images/apple-icon-144x144.png">
<link rel="/docs/images/apple-touch-icon" sizes="152x152" href="/docs/images/apple-icon-152x152.png">
<link rel="/docs/images/apple-touch-icon" sizes="180x180" href="/docs/images/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/docs/images/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/docs/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/docs/images/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/docs/images/favicon-16x16.png">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" href="/docs/css/syntax.css">

<!-- FONTS -->
<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700&display=swap" rel="stylesheet">

<style type="text/css">
	.js .fouc {display: none !important;}
</style>

<script type="text/javascript">
	document.documentElement.className = 'js';
</script>

<!-- Begin Inspectlet Embed Code -->
<script type="text/javascript" id="inspectletjs">
window.__insp = window.__insp || [];
__insp.push(['wid', 479657659]);
(function() {
function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
})();
</script>
<!-- End Inspectlet Embed Code -->


  <!-- Initializes tooltips -->
    <script>
      $(function () {
            $('[data-toggle="tooltip"]').tooltip({
              delay: {show: 0, hide: 2000}
            });
        })
    </script>

</head>



<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PXBN5GK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Navigation -->

<nav class="stitch-docs-navbar" data-swiftype-index='false'>
    <div class="nav-left">
        <?xml version="1.0" encoding="utf-8"?>
        <!-- Generator: Adobe Illustrator 23.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
        <svg version="1.1" id="logomark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             viewBox="0 0 380 380" enable-background="new 0 0 380 380" xml:space="preserve">
        <path id="logomark_2_" fill="#FFFFFF" d="M120,177.1v-26.7h260V0H0v203.8h270.5v26.7H0V380h380V175.2H120V177.1z M193.3,39
            c10.5,0,19,8.6,19,19s-8.6,19-19,19s-19-8.6-19-19C174.3,46.7,183.8,39,193.3,39z M112.4,96.2H281l-7.6,26.7H119L112.4,96.2z
             M193.3,340c-10.5,0-19-8.6-19-19c0-10.5,8.6-19,19-19s19,8.6,19,19C212.4,331.4,202.9,340,193.3,340z M112.4,281.9l6.7-26.7h154.3
            l7.6,26.7H112.4z"/>
        </svg>
        <a class="navbar-brand" href="/docs/">
            <span class="projectTitle"> Stitch Docs</span>
        </a>
    </div>
    <div class="mobile-nav-icon"></div>
    <div id="close" class="mobile-close-out hide"></div>
    <div class="nav-right">
        <ul class="stitch-nav">
            <!-- entries without drop-downs appear here -->
            
                
                    
                        <li>
                            <a href="https://www.stitchdata.com" target="_blank">stitchdata.com</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://github.com/stitchdata/docs#stitch-documentation" target="_blank"><i class="fab fa-github" aria-hidden="true"></i> Contribute
</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://www.stitchdata.com/changelog" target="_blank">Changelog</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="/docs/announcements">Announcements</a>
                        </li>
                    
                
            
            <li class="sign-up"><a href="https://stitchdata.com/signup">Sign up</a></li>
            <li>
                <!--start search-->
                <div id="search-demo-container">
                    <input type="text" id="search-input" placeholder="What can we help you find?">
                    <div class="img"><i class="fa fa-search"></i></div>
                </div>
            </li>
        </ul>
    </div>


</nav>


<!-- Page Content -->
<div id="main">
    <div class="sidebar-column">
      <div class="sidebar-button"></div>
        
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



    	
    		
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->


<div class="menu-list" data-swiftype-index='false'>

<ul id="mysidebar" class="nav">
    <!-- Stitch status widget -->
    <a class="status-page" href="http://status.stitchdata.com" target="_blank">
        <span class="color-dot"></span>
        <span class="color-description"></span>
    </a>

    <li>
    	<strong>In this guide:</strong>
    </li>

    
	    <li>
			<a href="#">
		    	Introduction
		    </a>
		</li>
	

    
        <li>
            <a href="#prerequisites">
                Prerequisites
            </a>
        </li>
    

    
		
            <li class="subfolders">
                <a data-toggle="collapse" href="#generate-tokens-new-account--menu" aria-expanded="false" aria-controls="generate-tokens-new-account--menu">
                    Generate tokens for a new Stitch account with the API
                    <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                </a>

                <ul class="collapse" id="generate-tokens-new-account--menu">

                    <!-- This is a menu item that actually links to the section. It's
                        in here because the menu doesn't link to the section, the anchor just opens the menu. -->
            		<li>
                        <a href="#generate-tokens-new-account">Generate tokens for a new Stitch account with the API</a>
                    </li>

               		
                        
                    		<li>
                                <a href="#create-stitch-account-generate-token">Step 1: Create a Stitch account and generate a token</a>
                            </li>
                        
                	
                        
                    		<li>
                                <a href="#authenticate-your-api-requests">Step 2: Authenticate your API requests</a>
                            </li>
                        
                	
                </ul>

            
    	</li>
    
		
            <li class="subfolders">
                <a data-toggle="collapse" href="#generate-tokens-existing-account--menu" aria-expanded="false" aria-controls="generate-tokens-existing-account--menu">
                    Generate tokens and authenticate using OAuth2
                    <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                </a>

                <ul class="collapse" id="generate-tokens-existing-account--menu">

                    <!-- This is a menu item that actually links to the section. It's
                        in here because the menu doesn't link to the section, the anchor just opens the menu. -->
            		<li>
                        <a href="#generate-tokens-existing-account">Generate tokens and authenticate using OAuth2</a>
                    </li>

               		
                        
                    		<li>
                                <a href="#send-user-to-stitch">Step 1: Send the user to Stitch from your application</a>
                            </li>
                        
                	
                        
                    		<li>
                                <a href="#get-users-consent">Step 2: Get the user's consent</a>
                            </li>
                        
                	
                        
                    		<li>
                                <a href="#callback-to-your-application">Step 3: Callback to your application</a>
                            </li>
                        
                	
                        
                    		<li>
                                <a href="#exchange-tokens">Step 4: Exchange tokens</a>
                            </li>
                        
                	
                        
                    		<li>
                                <a href="#authenticate-api-calls">Step 5: Authenticate your API requests</a>
                            </li>
                        
                	
                </ul>

            
    	</li>
    
		
            	<li>
            		<a href="#next-steps">
		            	Next steps
		            </a>
		        </li>
    		
    	</li>
    

    
	    <hr>

	    <li>
	    	<strong>Related:</strong>
	    </li>

	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/api#authentication-overview">
		            	Authentication reference
		            </a>
		        </li>
	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/api">
		            	Connect API reference
		            </a>
		        </li>
	    	
	    		<li>
            		<a href="/docs/developers/stitch-connect/guides">
		            	Connect guides
		            </a>
		        </li>
	    	
	
</ul>

</div>
    	

    </div>
    <div class="content-column">

        <div class="article">
          
            <div class="breadbox">
                <div class="breadcrumb-container" data-swiftype-index='false'>
                    <div id="breadcrumb-menu" class="menu-left">
                        <!-- Credit to JoostS for this code: https://stackoverflow.com/questions/9612235/what-are-some-good-ways-to-implement-breadcrumbs-on-a-jekyll-site -->




<a href="/docs">DOCS</a>

  
    > <a href="/docs/developers/">DEVELOPERS</a>
  

  
    > <a href="/docs/developers/stitch-connect/">STITCH CONNECT</a>
  

  
    > <a href="/docs/developers/stitch-connect/guides/">GUIDES</a>
  

  
    > <strong>STITCH PARTNER API AUTHENTICATION GUIDE</strong>
  


                    </div>

                    
                </div>
            </div>
          

          <div class="post-header">
    <h1 class="post-title-main">Stitch Partner API Authentication Guide</h1>
</div>

<div class="post-content">
<!-- Controls display of page summary -->
   

<!-- Table of Contents -->
    

    

      
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->



<!-- Tooltips and terms -->



<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



<!-- This only runs for destination and integration pgaes.
    The include assigns a different page variable, and displays the correc
    beta notice when applicable. -->
    
        <!-- This file is used to assign the correct
	page variable for destination and integration content.

	It'll also display the appropriate beta notice for
	destinations/integrations that require it. -->

    
    


    
<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Tooltips and terms -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<div class="alert alert-info" role="alert">
    <i class="fas fa-info-circle"></i>
    <strong>Note</strong>: This guide is applicable only to Stitch partners, or API clients. If you aren’t a Stitch partner - meaning you only want to use the API to manage your own Stitch account(s) - refer to the <a href="/docs/developers/stitch-connect/api#authentication-overview">Authentication reference</a>.
</div>

<p>Stitch authenticates API requests using an API access token. As an API client, you’ll need to obtain an API access token before you can make API requests on behalf of a user’s Stitch client account. In this guide, we’ll cover the available methods for obtaining an access token and authenticating to the API.</p>

<p>For more info about API access tokens, refer to the <a href="/docs/developers/stitch-connect/api#authentication-overview">API reference</a>.</p>

<ul>
  <li>
    <p><a href="#generate-tokens-new-account">Generate tokens for a new Stitch account with the API</a></p>
  </li>
  <li>
    <p><a href="#generate-tokens-existing-account">Generate tokens and authenticate using OAuth2</a></p>
  </li>
  <li>
    <p><a href="#next-steps">Next steps</a></p>
  </li>
</ul>



    <hr>



    <h2 id="prerequisites">Prerequisites</h2>
    
    <ul>
        
            <li><p><strong>Stitch partner credentials.</strong> To use the Stitch API as a partner, complete <a href="https://docs.google.com/forms/d/e/1FAIpQLSc1-GcfQOa94JQfEL_CVdLkVZX62Byr6v0ik3YAWH3kIp6yFg/viewform" target="new">this form</a>. Once approved, you’ll receive the credentials required to authenticate requests made from your API client.</p>
</li>
        
    </ul>

    <hr>



    
        <h2 id="generate-tokens-new-account">Generate tokens for a new Stitch account with the API</h2>
    

        <p>This approach will create a new Stitch client account using the API. When a new Stitch client account is successfully created, the response will include an access token, which you can use to authenticate API calls to other endpoints:</p>

<ul>
  <li>
    <p><a href="#create-stitch-account-generate-token">Step 1: Create a Stitch account and generate a token</a></p>
  </li>
  <li>
    <p><a href="#authenticate-your-api-requests">Step 2: Authenticate your API requests</a></p>
  </li>
</ul>



<!-- If a section has subsections -->
    
        
            
                <h3 id="create-stitch-account-generate-token">Step 1: Create a Stitch account and generate a token</h3>
            

            
<p>Using your API client credentials, create a new Stitch client account using the <a href="/docs/developers/stitch-connect/api#create-an-account">Create Account endpoint</a>.</p>

<p>In the body of the request, include your <code class="language-plaintext highlighter-rouge">partner_id</code> and <code class="language-plaintext highlighter-rouge">partner_secret</code>, along with <a href="/docs/developers/stitch-connect/api#account--object">the other properties required to create a Stitch client account</a>:</p>

<div class="code-header"><div class="code-description-container"><strong>POST /v3/accounts</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;POST&quot; &quot;https://api.stitchdata.com/v3/accounts&quot; \
     -H &#39;Content-Type: application/json&#39; \
     -d $
&#39;{
  &quot;partner_id&quot;: &quot;&lt;YOUR_PARTNER_ID&gt;&quot;,
  &quot;partner_secret&quot;: &quot;&lt;YOUR_PARTNER_SECRET&gt;&quot;,
  &quot;first_name&quot;: &quot;&lt;USER&#39;S_FIRST_NAME&gt;&quot;,
  &quot;last_name&quot;: &quot;&lt;USER&#39;S_LAST_NAME&gt;&quot;,
  &quot;company&quot;: &quot;&lt;USER&#39;S_COMPANY&gt;&quot;,
  &quot;email&quot;: &quot;&lt;USER&#39;S_EMAIL&gt;@&lt;DOMAIN&gt;&quot;
}&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "POST" "https://api.stitchdata.com/v3/accounts" \
     -H 'Content-Type: application/json' \
     -d $
'{
  "partner_id": "&lt;YOUR_PARTNER_ID&gt;",
  "partner_secret": "&lt;YOUR_PARTNER_SECRET&gt;",
  "first_name": "&lt;USER'S_FIRST_NAME&gt;",
  "last_name": "&lt;USER'S_LAST_NAME&gt;",
  "company": "&lt;USER'S_COMPANY&gt;",
  "email": "&lt;USER'S_EMAIL&gt;@&lt;DOMAIN&gt;"
}'
</code></pre>

<p>The account that will be created will be owned and managed by the user provided in the Create Account request. This user can then log into the Stitch web interface, receive emails from Stitch, etc.</p>

<p>When successful, this endpoint returns a status of <code class="language-plaintext highlighter-rouge">200 OK</code> and an object with <code class="language-plaintext highlighter-rouge">access_token</code> and <code class="language-plaintext highlighter-rouge">stitch_account_id</code> properties:</p>

<div class="code-header"><div class="code-description-container"><strong>Response for POST /v3/accounts</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;access_token&quot;: &quot;&lt;ACCESS_TOKEN&gt;&quot;,
  &quot;stitch_account_id&quot;: &lt;STITCH_CLIENT_ID&gt;
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ACCESS_TOKEN&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stitch_account_id"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;STITCH_CLIENT_ID&gt;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Your application should store the <code class="language-plaintext highlighter-rouge">access_token</code> and <code class="language-plaintext highlighter-rouge">stitch_account_id</code> somewhere secure, as these credentials will be used to make calls to the API.</p>


        <!-- If a subsection has its own subsections -->
            
        
            
                <h3 id="authenticate-your-api-requests">Step 2: Authenticate your API requests</h3>
            

            
<p>Lastly, use the <code class="language-plaintext highlighter-rouge">access_token</code> in the header of your API requests to authenticate to the API:</p>

<div class="code-header"><div class="code-description-container"><strong>GET /v4/sources</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;POST&quot; &quot;https://api.stitchdata.com/v4/sources&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "POST" "https://api.stitchdata.com/v4/sources" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>



        <!-- If a subsection has its own subsections -->
            
        
    

    
        <hr>
    

    
        <h2 id="generate-tokens-existing-account">Generate tokens and authenticate using OAuth2</h2>
    

        <p>If you prefer to use OAuth, or to connect to a user’s existing Stitch client account, you can also use this approach:</p>

<ul>
  <li>
    <p><a href="#send-user-to-stitch">Step 1: Send the user to Stitch from your application</a></p>
  </li>
  <li>
    <p><a href="#get-users-consent">Step 2: Get the user’s consent</a></p>
  </li>
  <li>
    <p><a href="#callback-to-your-application">Step 3: Callback to your application</a></p>
  </li>
  <li>
    <p><a href="#exchange-tokens">Step 4: Exchange tokens</a></p>
  </li>
  <li>
    <p><a href="#authenticate-api-calls">Step 5: Authenticate your API requests</a></p>
  </li>
</ul>



<!-- If a section has subsections -->
    
        
            
                <h3 id="send-user-to-stitch">Step 1: Send the user to Stitch from your application</h3>
            

            <p>To initiate the authorization flow, the user will click a link to Stitch that includes your application’s API client ID. This is the <code class="language-plaintext highlighter-rouge">partner_id</code> you obtained when you registered your application. For example:</p>

<div class="code-header"><div class="code-description-container"><strong>Example authorization URL</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="https://app.stitchdata.com/oauth/authorization?client_id={PARTNER_ID}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://app.stitchdata.com/oauth/authorization?client_id<span class="o">={</span>PARTNER_ID<span class="o">}</span>
</code></pre></div></div>

<p>While only your <code class="language-plaintext highlighter-rouge">partner_id</code> is required, the URL may also include the following parameters:</p>

<table class="attribute-list">


<tr>
<td class="attribute-name">
<strong>client_id</strong>
<br />


<font color="#E96065">REQUIRED</font>


</td>

<td class="description">
<p>Your API client ID. This is the <code class="language-plaintext highlighter-rouge">partner_id</code> that is obtained when your API access request is approved.</p>

</td>

</tr>

<tr>
<td class="attribute-name">
<strong>redirect_uri</strong>
<br />


OPTIONAL


</td>

<td class="description">
<p>The callback URL for your application, which will be used in <a href="#callback-to-your-application">Step 3</a>.</p>

<p><strong>Note</strong>: If provided as a URL parameter, then the value must match one of the redirect URIs provided with your application’s registration.</p>

<p>If not provided as a URL parameter, Stitch will fallback to the first <code class="language-plaintext highlighter-rouge">redirect_uri</code> associated with your API client.</p>

</td>

</tr>

<tr>
<td class="attribute-name">
<strong>email</strong>
<br />


OPTIONAL


</td>

<td class="description">
<p>The email address of the Stitch client owner. If provided, this value will be used to pre-populate the signup form.</p>

</td>

</tr>

<tr>
<td class="attribute-name">
<strong>first_name</strong>
<br />


OPTIONAL


</td>

<td class="description">
<p>The user’s first name. If provided, this value will be used to pre-populate the signup form.</p>

</td>

</tr>

<tr>
<td class="attribute-name">
<strong>last_name</strong>
<br />


OPTIONAL


</td>

<td class="description">
<p>The user’s last name. If provided, this value will be used to pre-populate the signup form.</p>

</td>

</tr>

<tr>
<td class="attribute-name">
<strong>company</strong>
<br />


OPTIONAL


</td>

<td class="description">
<p>The name of the company or organization to associate with the Stitch client account. If provided, this value will be used to pre-populate the signup form.</p>

</td>

</tr>


</table>


        <!-- If a subsection has its own subsections -->
            
        
            
                <h3 id="get-users-consent">Step 2: Get the user's consent</h3>
            

            <p>If the user isn’t already signed into their Stitch client account, they will be prompted to do so or create a new account, if need be.</p>

<p>Once signed in, the user will be shown a screen explaining that your application has requested access to their Stitch account. They will be prompted to accept or reject this request.</p>


        <!-- If a subsection has its own subsections -->
            
        
            
                <h3 id="callback-to-your-application">Step 3: Callback to your application</h3>
            

            <p>When the user accepts or denies the request, they will be redirected to the callback URL (<code class="language-plaintext highlighter-rouge">redirect_uri</code>) you provided when you registered your application with Stitch.</p>

<p>If the user denies the request, Stitch will include error details:</p>

<div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="https://yourapplication.com/callback?error=access_denied" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://yourapplication.com/callback?error<span class="o">=</span>access_denied
</code></pre></div></div>

<p>If the user accepts the request, the callback will include a temporary authorization code to be used in the next step:</p>

<div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="https://yourapplication.com/callback?code=&lt;STITCH_AUTHORIZATION_CODE&gt;" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://yourapplication.com/callback?code<span class="o">=</span>&lt;STITCH_AUTHORIZATION_CODE&gt;
</code></pre></div></div>

<p><strong>Note</strong>: Each temporary authorization code can only be used once and expires five minutes after creation.</p>


        <!-- If a subsection has its own subsections -->
            
        
            
                <h3 id="exchange-tokens">Step 4: Exchange tokens</h3>
            

            <p>Lastly, when your application receives the user’s request to the callback URL, it should make a request to the Stitch OAuth endpoint to exchange the temporary authorization code for a permanent access token:</p>

<div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="curl https://api.stitchdata.com/oauth/token 
     -d client_secret=&lt;CLIENT_SECRET&gt;
     -d code=&lt;STITCH_AUTHORIZATION_CODE&gt;
     -d grant_type=authorization_code" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">curl</span><span class="w"> </span><span class="err">https://api.stitchdata.com/oauth/token</span><span class="w"> 
     </span><span class="err">-d</span><span class="w"> </span><span class="err">client_secret=&lt;CLIENT_SECRET&gt;</span><span class="w">
     </span><span class="err">-d</span><span class="w"> </span><span class="err">code=&lt;STITCH_AUTHORIZATION_CODE&gt;</span><span class="w">
     </span><span class="err">-d</span><span class="w"> </span><span class="err">grant_type=authorization_code</span><span class="w">
</span></code></pre></div></div>

<p>If successful, Stitch will respond with the following:</p>

<div class="code-header"><div class="copy-code-container"><div class="copy-code-button" data-code="{
  &quot;token_type&quot;: &quot;bearer&quot;,
  &quot;access_token&quot;: &quot;&lt;ACCESS_TOKEN&gt;&quot;,
  &quot;stitch_account_id&quot;: &lt;STITCH_ACCOUNT_ID&gt;
}" title="Copy to clipboard" tabindex="0"></div></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ACCESS_TOKEN&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stitch_account_id"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;STITCH_ACCOUNT_ID&gt;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Your application should store the <code class="language-plaintext highlighter-rouge">access_token</code> and <code class="language-plaintext highlighter-rouge">stitch_account_id</code> somewhere secure, as these credentials will be used to make calls to the API.</p>


        <!-- If a subsection has its own subsections -->
            
        
            
                <h3 id="authenticate-api-calls">Step 5: Authenticate your API requests</h3>
            

            
<p>Lastly, use the <code class="language-plaintext highlighter-rouge">access_token</code> in the header of your API requests to authenticate to the API:</p>

<div class="code-header"><div class="code-description-container"><strong>GET /v4/sources</strong></div><div class="copy-code-container"><div class="copy-code-button" data-code="curl -X &quot;POST&quot; &quot;https://api.stitchdata.com/v4/sources&quot; \
     -H &#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39; \
     -H &#39;Content-Type: application/json&#39;" title="Copy to clipboard" tabindex="0"></div></div></div>

<pre><code class="language-curl">curl -X "POST" "https://api.stitchdata.com/v4/sources" \
     -H 'Authorization: Bearer &lt;ACCESS_TOKEN&gt;' \
     -H 'Content-Type: application/json'
</code></pre>



        <!-- If a subsection has its own subsections -->
            
        
    

    
        <hr>
    

    
        <h2 id="next-steps">Next steps</h2>
    

        <p>To learn more about the Stitch API, refer to the <a href="/docs/developers/stitch-connect/api">API reference</a>.</p>


<!-- If a section has subsections -->
    

    





<!-- GitHub Feedback snippet -->

</div>

<hr class="footer-cta">
<div class="footer-signup-cta" data-swiftype-index='false'>
    <div class="wrapper">
        <div>
            <p>Try Stitch for free</p>
        </div>
        <div>
            <a href="https://www.stitchdata.com/signup" class="btn-default btn-default--yellow">
                Start your trial <span class="arrow"></span>
            </a>
        </div>
    </div>
</div>
<footer data-swiftype-index='false'>
    <div class="site-generation">
        &copy;2020 Stitch. All rights reserved. 
         Site last generated: Jul 23, 2020
    </div>
    
</footer>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/docs/js/docsearch.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<!-- Used for creating heading anchors -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="//cdn.statuspage.io/se-v2.js"></script>

<script src="/docs/js/toc.js"></script>
<script src="/docs/js/customscripts.js"></script>
<script src="/docs/js/copyCode.js"></script>

<script type="text/javascript">
    $(".fouc").removeClass("fouc");
</script>

<!-- Intercom bubble -->
<script>
  window.intercomSettings = {
    app_id: "okjpf68w"
  };
</script>
<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/okjpf68w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>

<!-- Search -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','SAg6gNWby6H1xYzjhfzB','2.0.0');
</script>

<div class="st-search-container"></div>

</body>
</html>

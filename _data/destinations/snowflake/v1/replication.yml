# --------------------------------------- #
#      SNOWFLAKE REPLICATION DETAILS      #
# --------------------------------------- #

## Details about replication/loading for
## Stitch's Snowflake destination.


# ------------------------------ #
#       GENERAL DETAILS          #
# ------------------------------ #

primary-key-support: true

nested-structure-support: true

rename-original-column-in-split: false



# ------------------------------ #
#       LOADING BEHAVIOR         #
# ------------------------------ #

configurable-loading-behavior: false

loading-behavior-types:
  - "Upsert"

loading-behavior-description: |
  todo



# - id: "primary-keys"
#   categories: "replication"
#   value: *primary-key-support
#   important: true
#   description: |
#     {{ destination.display_name }} destinations natively support Primary Keys.

#     Stitch requires Primary Keys to de-dupe data during Incremental Replication. Primary Key columns are created using [Primary Key constraints]({{ site.data.destinations.snowflake.resource-links.column-constraints }}){:target="new"}, which requires that values be both unique and not null.

# - id: "nested-data-structures"
#   categories: "replication"
#   value: *nested-structure-support
#   important: true
#   description: |
#     {{ destination.display_name }} destinations natively support nested data structures.

#     When Stitch replicates source data containing objects or arrays, Stitch will load the data intact into a [`VARIANT` column]({{ site.data.destinations.snowflake.resource-links.variant-type }}){:target="new"}. This is a {{ destination.display_name }} data type that can contain semi-structured data like JSON arrays and objects.

#     You can then use {{ destination.display_name }}'s functions for semi-structured data to parse the data. More info can be found in [{{ destination.display_name }}'s documentation](https://docs.snowflake.net/manuals/sql-reference/functions-semistructured.html){:target="new"}.